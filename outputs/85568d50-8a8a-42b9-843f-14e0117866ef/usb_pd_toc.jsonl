{"doc_title": "USB Power Delivery Specification", "section_id": "1", "title": "Introduction USB has evolved from a data interface capable of supplying limited power to a primary provider of power with a data interface. Today many devices charge or get their power from USB Ports contained in laptops, cars, aircraft or even wall sockets. USB has become a ubiquitous power socket for many small devices such as cell phones and other hand-held devices. Users need USB to fulfill their requirements not only in terms of data but also to provide power to, or charge, their devices simply, often without the need to load a driver, in order to carry out “traditional” USB functions. There are, however, still many devices which either require an additional power connection to the wall, or exceed the USB default current in order to operate. Increasingly, international regulations require better energy management due to ecological and practical concerns relating to the availability of power. Regulations limit the amount of powe[rU aSvBaBilaCb 1le.2 f]rom[ tUhSeB w Tayllp we-hCic 2h. 4h]as led to a pressing need to optimize power usage. The USB Power Delivery Specification has the potential to minimize waste as it becomes a standard for charging devices that are not satisfied by or . Wider usage of wireless solutions is an attempt to remove data cabling but the need for “tethered” charging remains. In addition, industrial design requirements drive wired connectivity to do much more over the same connector. USB Power Delivery is designed to enable the maximum functional[iUtyS BofB UCS 1B.2 b]y providing more flexible power delivery along with data over a single cable. Its aim is to operate with and build on the existing USB ecosystem; increasing power levels from existing USB standards, for example , enabling new higher power use cases such as USB powered Hard Disk Drives (HDDs), laptops and monitors. With USB Power Delivery the power direction is no longer fixed. This enables the product with the power (USB Host or Peripheral) to provide the power. For example, a display with a supply from the wall can power, or charge, a laptop. Alternatively, USB Chargers are able to supply power to laptops and other Battery powered devices through their, traditional power providing, USB Ports. USB Power Delivery enables Hubs (including Hubs embedded in other devices such as doOcpksti oorn amlloynitors) to become the means to optimize power management across multiple peripherals by allowing each device to take only the power it requires, and to get more power when required for a given application. the Hubs can communicate with the PC to enable even more intelligent and flexible management of power either automatically or with some level of user intervention. USB Power Delivery allows low power cases such as headsets to Negotiate for only the power they require. This provides a simple solution that enables USB devices to operate at their optimal power levels. The Power Delivery Specification, in addition to providing mechanisms to Negotiate power also can be used as a side-band channel for standard and vendor defined messaging. The specification enables discovery of cable Capabilities such as supported speeds and current levels. Power Delivery enables alternative modes of operation ® by providing the mechanisms to discover, enter and exit Modes such as EPR Mode, USB4 Mode or Alternate M1o.1des. Overview [USB 2.0] [TUhSisB s 3p.e2c]if[icUaStBio4n] d[eUfSinBe Ts yhpoew-C U 2S.B4 ]D ® evi[cUeSsB cBaCn 1N.e2g]otiate for more current and/or higher or lower voltages over the USB cable (using the USB Type-C CC wire as the communications channel) than are defined in the , BUS , , or specifications. It allows Devices with greater power requirements than can be met with today's specification to get the power they require to operate from V and Negotiate with external power sources (e.g., Chargers). In addition, it allows a Source and Sink to swap Power Roles such that a USB Device could supply power to the USB Host. For example, a display could supply power to a laptop to operate or charge its Battery. This specification also CONN adds a mechanism to swap the Data Roles such that the upstream facing Port becomes the downstream facing Port and vice versa. It also enables a swap of the end supplying V to a powered cable. The USB Power Delivery Specification is guided by the following principles: Works seamlessly with legacy USB Devices. Page 34 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "full_path": "1 Introduction USB has evolved from a data interface capable of supplying limited power to a primary provider of power with a data interface. Today many devices charge or get their power from USB Ports contained in laptops, cars, aircraft or even wall sockets. USB has become a ubiquitous power socket for many small devices such as cell phones and other hand-held devices. Users need USB to fulfill their requirements not only in terms of data but also to provide power to, or charge, their devices simply, often without the need to load a driver, in order to carry out “traditional” USB functions. There are, however, still many devices which either require an additional power connection to the wall, or exceed the USB default current in order to operate. Increasingly, international regulations require better energy management due to ecological and practical concerns relating to the availability of power. Regulations limit the amount of powe[rU aSvBaBilaCb 1le.2 f]rom[ tUhSeB w Tayllp we-hCic 2h. 4h]as led to a pressing need to optimize power usage. The USB Power Delivery Specification has the potential to minimize waste as it becomes a standard for charging devices that are not satisfied by or . Wider usage of wireless solutions is an attempt to remove data cabling but the need for “tethered” charging remains. In addition, industrial design requirements drive wired connectivity to do much more over the same connector. USB Power Delivery is designed to enable the maximum functional[iUtyS BofB UCS 1B.2 b]y providing more flexible power delivery along with data over a single cable. Its aim is to operate with and build on the existing USB ecosystem; increasing power levels from existing USB standards, for example , enabling new higher power use cases such as USB powered Hard Disk Drives (HDDs), laptops and monitors. With USB Power Delivery the power direction is no longer fixed. This enables the product with the power (USB Host or Peripheral) to provide the power. For example, a display with a supply from the wall can power, or charge, a laptop. Alternatively, USB Chargers are able to supply power to laptops and other Battery powered devices through their, traditional power providing, USB Ports. USB Power Delivery enables Hubs (including Hubs embedded in other devices such as doOcpksti oorn amlloynitors) to become the means to optimize power management across multiple peripherals by allowing each device to take only the power it requires, and to get more power when required for a given application. the Hubs can communicate with the PC to enable even more intelligent and flexible management of power either automatically or with some level of user intervention. USB Power Delivery allows low power cases such as headsets to Negotiate for only the power they require. This provides a simple solution that enables USB devices to operate at their optimal power levels. The Power Delivery Specification, in addition to providing mechanisms to Negotiate power also can be used as a side-band channel for standard and vendor defined messaging. The specification enables discovery of cable Capabilities such as supported speeds and current levels. Power Delivery enables alternative modes of operation ® by providing the mechanisms to discover, enter and exit Modes such as EPR Mode, USB4 Mode or Alternate M1o.1des. Overview [USB 2.0] [TUhSisB s 3p.e2c]if[icUaStBio4n] d[eUfSinBe Ts yhpoew-C U 2S.B4 ]D ® evi[cUeSsB cBaCn 1N.e2g]otiate for more current and/or higher or lower voltages over the USB cable (using the USB Type-C CC wire as the communications channel) than are defined in the , BUS , , or specifications. It allows Devices with greater power requirements than can be met with today's specification to get the power they require to operate from V and Negotiate with external power sources (e.g., Chargers). In addition, it allows a Source and Sink to swap Power Roles such that a USB Device could supply power to the USB Host. For example, a display could supply power to a laptop to operate or charge its Battery. This specification also CONN adds a mechanism to swap the Data Roles such that the upstream facing Port becomes the downstream facing Port and vice versa. It also enables a swap of the end supplying V to a powered cable. The USB Power Delivery Specification is guided by the following principles: Works seamlessly with legacy USB Devices. Page 34 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2", "title": "Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .53 Figure 2.1 Logical Structure of USB Power Delivery Capable Devices..............................................................55 Figure 2.2 Example SOP' Communication between VCONN Source and Cable Plug(s)...............................58 Figure 2.3 USB Power Delivery Communications Stack..........................................................................................67 Figure 2.4 USB Power Delivery Communication Over USB...................................................................................68 Figure 2.5 High Level Architecture View.......................................................................................................................69 Figure 2.6 Example of a Normal EPR Mode Operational Flow.............................................................................74", "full_path": "2 Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .53 Figure 2.1 Logical Structure of USB Power Delivery Capable Devices..............................................................55 Figure 2.2 Example SOP' Communication between VCONN Source and Cable Plug(s)...............................58 Figure 2.3 USB Power Delivery Communications Stack..........................................................................................67 Figure 2.4 USB Power Delivery Communication Over USB...................................................................................68 Figure 2.5 High Level Architecture View.......................................................................................................................69 Figure 2.6 Example of a Normal EPR Mode Operational Flow.............................................................................74", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.6", "title": "Section 2.6", "full_path": "2.6 Section 2.6", "page": 1, "level": 2, "parent_id": "2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.6.6", "title": "Cable and Connectors .............................................................................................................................................72", "full_path": "2.6.6 Cable and Connectors .............................................................................................................................................72", "page": 1, "level": 3, "parent_id": "2.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.6.7", "title": "Interactions between Non-PD, BC, and PD devices ...................................................................................72", "full_path": "2.6.7 Interactions between Non-PD, BC, and PD devices ...................................................................................72", "page": 1, "level": 3, "parent_id": "2.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.6.8", "title": "Power Rules ................................................................................................................................................................72", "full_path": "2.6.8 Power Rules ................................................................................................................................................................72", "page": 1, "level": 3, "parent_id": "2.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.7", "title": "Extended Power Range (EPR) Operation", "full_path": "2.7 Extended Power Range (EPR) Operation", "page": 73, "level": 2, "parent_id": "2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.8", "title": "Charging Models", "full_path": "2.8 Charging Models", "page": 75, "level": 2, "parent_id": "2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.8.1", "title": "Fixed Supply Charging Models ...........................................................................................................................75", "full_path": "2.8.1 Fixed Supply Charging Models ...........................................................................................................................75", "page": 1, "level": 3, "parent_id": "2.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.8.2", "title": "Programmable Power Supply (PPS) Charging Models ............................................................................75", "full_path": "2.8.2 Programmable Power Supply (PPS) Charging Models ............................................................................75", "page": 1, "level": 3, "parent_id": "2.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "2.8.3", "title": "Adjustable Voltage Supply (AVS) Charging Models ..................................................................................76", "full_path": "2.8.3 Adjustable Voltage Supply (AVS) Charging Models ..................................................................................76", "page": 1, "level": 3, "parent_id": "2.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "3", "title": "USB Type-A and USB Type-B Cable Assemblies and Connectors . . . . . .77", "full_path": "3 USB Type-A and USB Type-B Cable Assemblies and Connectors . . . . . .77", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "4", "title": "Electrical Requirements. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .78", "full_path": "4 Electrical Requirements. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .78", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "4.1", "title": "Interoperability with other USB Specifications", "full_path": "4.1 Interoperability with other USB Specifications", "page": 78, "level": 2, "parent_id": "4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "4.2", "title": "Dead Battery Detection / Unpowered Port Detection", "full_path": "4.2 Dead Battery Detection / Unpowered Port Detection", "page": 78, "level": 2, "parent_id": "4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "4.3", "title": "Cable IR Ground Drop (IR Drop)", "full_path": "4.3 Cable IR Ground Drop (IR Drop)", "page": 78, "level": 2, "parent_id": "4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "4.4", "title": "Cable Type Detection", "full_path": "4.4 Cable Type Detection", "page": 78, "level": 2, "parent_id": "4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5", "title": "Physical Layer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .79 Figure 5.1 Interpretation of ordered sets......................................................................................................................81 Figure 5.2 Transmit Order for Various Sizes of Data................................................................................................83 Figure 5.3 USB Power Delivery Packet Format...........................................................................................................84 Figure 5.4 CRC-32 Generation............................................................................................................................................88 Figure 5.5 Line format of Hard Reset...............................................................................................................................89 Figure 5.6 Line format of Cable Reset..............................................................................................................................90 Figure 5.7 BMC Example.......................................................................................................................................................92 Figure 5.8 BMC Transmitter Block Diagram.................................................................................................................92 Figure 5.9 BMC Receiver Block Diagram........................................................................................................................93 Figure 5.10 BMC Encoded Start of Preamble..................................................................................................................93 Figure 5.11 Transmitting or Receiving BMC Encoded Frame Terminated by Zero with High-to-Low Last Transition.....................................................................................................................................................94 Figure 5.12 Transmitting or Receiving BMC Encoded Frame Terminated by One with High-to-Low Last Transition.....................................................................................................................................................94 Figure 5.13 Transmitting or Receiving BMC Encoded Frame Terminated by Zero with Low to High Last Transition.....................................................................................................................................................95 Figure 5.14 Transmitting or Receiving BMC Encoded Frame Terminated by One with Low to High Last Transition..............................................................................................................................................................95 Figure 5.15 BMC Tx 'ONE' Mask...........................................................................................................................................96 Figure 5.16 BMC Tx 'ZERO' Mask.........................................................................................................................................97 Figure 5.17 BMC Rx 'ONE' Mask when Sourcing Power.............................................................................................99 Figure 5.18 BMC Rx 'ZERO' Mask when Sourcing Power........................................................................................100 Figure 5.19 BMC Rx 'ONE' Mask when Power neutral..............................................................................................100 Figure 5.20 BMC Rx 'ZERO' Mask when Power neutral...........................................................................................101 Figure 5.21 BMC Rx 'ONE' Mask when Sinking Power.............................................................................................101 Figure 5.22 BMC Rx 'ZERO' Mask when Sinking Power...........................................................................................102 Figure 5.23 Transmitter Load Model for BMC Tx from a Source.........................................................................103 Figure 5.24 Transmitter Load Model for BMC Tx from a Sink..............................................................................103 Figure 5.25 Transmitter diagram illustrating zDriver..............................................................................................107 Figure 5.26 Inter-Frame Gap Timings..............................................................................................................................108 Figure 5.27 Example Multi-Drop Configuration showing two DRPs..................................................................111 Figure 5.28 Example Multi-Drop Configuration showing a DFP and UFP........................................................111 Figure 5.29 Test Frame...........................................................................................................................................................113", "full_path": "5 Physical Layer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .79 Figure 5.1 Interpretation of ordered sets......................................................................................................................81 Figure 5.2 Transmit Order for Various Sizes of Data................................................................................................83 Figure 5.3 USB Power Delivery Packet Format...........................................................................................................84 Figure 5.4 CRC-32 Generation............................................................................................................................................88 Figure 5.5 Line format of Hard Reset...............................................................................................................................89 Figure 5.6 Line format of Cable Reset..............................................................................................................................90 Figure 5.7 BMC Example.......................................................................................................................................................92 Figure 5.8 BMC Transmitter Block Diagram.................................................................................................................92 Figure 5.9 BMC Receiver Block Diagram........................................................................................................................93 Figure 5.10 BMC Encoded Start of Preamble..................................................................................................................93 Figure 5.11 Transmitting or Receiving BMC Encoded Frame Terminated by Zero with High-to-Low Last Transition.....................................................................................................................................................94 Figure 5.12 Transmitting or Receiving BMC Encoded Frame Terminated by One with High-to-Low Last Transition.....................................................................................................................................................94 Figure 5.13 Transmitting or Receiving BMC Encoded Frame Terminated by Zero with Low to High Last Transition.....................................................................................................................................................95 Figure 5.14 Transmitting or Receiving BMC Encoded Frame Terminated by One with Low to High Last Transition..............................................................................................................................................................95 Figure 5.15 BMC Tx 'ONE' Mask...........................................................................................................................................96 Figure 5.16 BMC Tx 'ZERO' Mask.........................................................................................................................................97 Figure 5.17 BMC Rx 'ONE' Mask when Sourcing Power.............................................................................................99 Figure 5.18 BMC Rx 'ZERO' Mask when Sourcing Power........................................................................................100 Figure 5.19 BMC Rx 'ONE' Mask when Power neutral..............................................................................................100 Figure 5.20 BMC Rx 'ZERO' Mask when Power neutral...........................................................................................101 Figure 5.21 BMC Rx 'ONE' Mask when Sinking Power.............................................................................................101 Figure 5.22 BMC Rx 'ZERO' Mask when Sinking Power...........................................................................................102 Figure 5.23 Transmitter Load Model for BMC Tx from a Source.........................................................................103 Figure 5.24 Transmitter Load Model for BMC Tx from a Sink..............................................................................103 Figure 5.25 Transmitter diagram illustrating zDriver..............................................................................................107 Figure 5.26 Inter-Frame Gap Timings..............................................................................................................................108 Figure 5.27 Example Multi-Drop Configuration showing two DRPs..................................................................111 Figure 5.28 Example Multi-Drop Configuration showing a DFP and UFP........................................................111 Figure 5.29 Test Frame...........................................................................................................................................................113", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.1", "title": "Physical Layer Overview", "full_path": "5.1 Physical Layer Overview", "page": 79, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.2", "title": "Physical Layer Functions", "full_path": "5.2 Physical Layer Functions", "page": 79, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.3", "title": "Symbol Encoding", "full_path": "5.3 Symbol Encoding", "page": 80, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.4", "title": "Ordered Sets", "full_path": "5.4 Ordered Sets", "page": 81, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.5", "title": "Transmitted Bit Ordering", "full_path": "5.5 Transmitted Bit Ordering", "page": 83, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6", "title": "Packet Format", "full_path": "5.6 Packet Format", "page": 84, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6.1", "title": "Packet Framing .........................................................................................................................................................84", "full_path": "5.6.1 Packet Framing .........................................................................................................................................................84", "page": 1, "level": 3, "parent_id": "5.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6.2", "title": "CRC .................................................................................................................................................................................86", "full_path": "5.6.2 CRC .................................................................................................................................................................................86", "page": 1, "level": 3, "parent_id": "5.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6.3", "title": "Packet Detection Errors ........................................................................................................................................89", "full_path": "5.6.3 Packet Detection Errors ........................................................................................................................................89", "page": 1, "level": 3, "parent_id": "5.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6.4", "title": "Hard Reset ...................................................................................................................................................................89", "full_path": "5.6.4 Hard Reset ...................................................................................................................................................................89", "page": 1, "level": 3, "parent_id": "5.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.6.5", "title": "Cable Reset ..................................................................................................................................................................90", "full_path": "5.6.5 Cable Reset ..................................................................................................................................................................90", "page": 1, "level": 3, "parent_id": "5.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.7", "title": "Collision Avoidance", "full_path": "5.7 Collision Avoidance", "page": 91, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8", "title": "Bi-phase Mark Coding (BMC) Signaling Scheme", "full_path": "5.8 Bi-phase Mark Coding (BMC) Signaling Scheme", "page": 92, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.1", "title": "Encoding and signaling ..........................................................................................................................................92", "full_path": "5.8.1 Encoding and signaling ..........................................................................................................................................92", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.2", "title": "Transmit and Receive Masks ...............................................................................................................................96", "full_path": "5.8.2 Transmit and Receive Masks ...............................................................................................................................96", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.3", "title": "Transmitter Load Model .....................................................................................................................................103", "full_path": "5.8.3 Transmitter Load Model .....................................................................................................................................103", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.4", "title": "BMC Common specifications .............................................................................................................................105", "full_path": "5.8.4 BMC Common specifications .............................................................................................................................105", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.5", "title": "BMC Transmitter Specifications ......................................................................................................................106", "full_path": "5.8.5 BMC Transmitter Specifications ......................................................................................................................106", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.8.6", "title": "BMC Receiver Specifications .............................................................................................................................110", "full_path": "5.8.6 BMC Receiver Specifications .............................................................................................................................110", "page": 1, "level": 3, "parent_id": "5.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.9", "title": "Built in Self-Test (BIST)", "full_path": "5.9 Built in Self-Test (BIST)", "page": 113, "level": 2, "parent_id": "5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.9.1", "title": "BIST Carrier Mode .................................................................................................................................................113", "full_path": "5.9.1 BIST Carrier Mode .................................................................................................................................................113", "page": 1, "level": 3, "parent_id": "5.9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "5.9.2", "title": "BIST Test Data Mode .............................................................................................................................................113", "full_path": "5.9.2 BIST Test Data Mode .............................................................................................................................................113", "page": 1, "level": 3, "parent_id": "5.9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6", "title": "Protocol Layer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114 Figure 6.1 USB Power Delivery Packet Format for a Control Message...........................................................115 Figure 6.2 USB Power Delivery Packet Format including Data Message Payload.....................................116 Figure 6.3 USB Power Delivery Packet Format including an Extended Message Header and Payload 116 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 19 Figure 6.4 Example Security_Request sequence Unchunked (Chunked bit = 0)........................................123 Figure 6.5 Example byte transmission for Security_Request Message of Data Size 7 (Chunked bit is set to zero)...........................................................................................................................................................123 Figure 6.6 Example byte transmission for Security_Response Message of Data Size 30 (Chunked bit is set to zero)......................................................................................................................................................124 Figure 6.7 Example Security_Request sequence Chunked (Chunked bit = 1)..............................................125 Figure 6.8 Example Security_Request Message of Data Size 7 (Chunked bit set to 1).............................126 Figure 6.9 Example Chunk 0 of Security_Response Message of Data Size 30 (Chunked bit set to 1)126 Figure 6.10 Example byte transmission for a Security_Response Message Chunk request (Chunked bit is set to 1).............................................................................................................................................................127 Figure 6.11 Example Chunk 1 of Security_Response Message of Data Size 30 (Chunked bit set to 1)127 Figure 6.12 SPR Capabilities Message Construction..................................................................................................152 Figure 6.13 Example Capabilities Message with 2 Power Data Objects............................................................152 Figure 6.14 BIST Message.....................................................................................................................................................159 Figure 6.15 Vendor Defined Message...............................................................................................................................162 Figure 6.16 Discover Identity Command response....................................................................................................169 Figure 6.17 Discover Identity Command response for a DRD...............................................................................169 Figure 6.18 Example Discover SVIDs response with 3 SVIDs................................................................................186 Figure 6.19 Example Discover SVIDs response with 4 SVIDs................................................................................187 Figure 6.20 Example Discover SVIDs response with 12 SVIDs followed by an empty response...........187 Figure 6.21 Example Discover Modes response for a given SVID with 3 Modes..........................................188 Figure 6.22 Successful Enter Mode sequence...............................................................................................................189 Figure 6.23 Unsuccessful Enter Mode sequence due to NAK.................................................................................190 Figure 6.24 Exit Mode sequence.........................................................................................................................................191 Figure 6.25 Attention Command request/response sequence.............................................................................192 Figure 6.26 Command request/response sequence..................................................................................................193 Figure 6.27 Enter/Exit Mode Process..............................................................................................................................195 Figure 6.28 Battery_Status Message.................................................................................................................................196 Figure 6.29 Alert Message.....................................................................................................................................................198 Figure 6.30 Get_Country_Info Message...........................................................................................................................201 Figure 6.31 Enter_USB Message.........................................................................................................................................203 Figure 6.32 EPR_Request Message....................................................................................................................................205 Figure 6.33 EPR Mode DO Message...................................................................................................................................206 Figure 6.34 Illustration of process to enter EPR Mode.............................................................................................208 Figure 6.35 Source_Info Message.......................................................................................................................................212 Figure 6.36 Revision Message Data Object....................................................................................................................214 Figure 6.37 Source_Capabilities_Extended Message.................................................................................................216 Figure 6.38 SOP Status Message.........................................................................................................................................221 Figure 6.39 SOP'/SOP'' Status Message...........................................................................................................................226 Figure 6.40 Get_Battery_Cap Message.............................................................................................................................227 Figure 6.41 Get_Battery_Status Message........................................................................................................................227 Figure 6.42 Battery_Capabilities Message......................................................................................................................228 Figure 6.43 Get_Manufacturer_Info Message................................................................................................................230 Figure 6.44 Manufacturer_Info Message.........................................................................................................................231 Figure 6.45 Security_Request Message............................................................................................................................233 Figure 6.46 Security_Response Message........................................................................................................................233 Figure 6.47 Firmware_Update_Request Message.......................................................................................................234 Figure 6.48 Firmware_Update_Response Message....................................................................................................234 Figure 6.49 PPS_Status Message.........................................................................................................................................235 Figure 6.50 Country_Codes Message................................................................................................................................237 Figure 6.51 Country_Info Message....................................................................................................................................238 Figure 6.52 Sink_Capabilities_Extended Message.......................................................................................................239 Figure 6.53 Extended_Control Message..........................................................................................................................244 Figure 6.54 Mapping SPR Capabilities to EPR Capabilities.....................................................................................245 Figure 6.55 EPR_Source_Capabilities message with no EPR PDOs.....................................................................246 Figure 6.56 Vendor_Defined_Extended Message........................................................................................................247 Figure 6.57 Outline of States................................................................................................................................................275 Figure 6.58 References to states.........................................................................................................................................275 Page 20 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Figure 6.59 Chunking architecture Showing Message and Control Flow.........................................................277 Figure 6.60 Chunked Rx State Diagram...........................................................................................................................278 Figure 6.61 Chunked Tx State Diagram...........................................................................................................................281 Figure 6.62 Chunked Message Router State Diagram...............................................................................................284 Figure 6.63 Common Protocol Layer Message Transmission State Diagram.................................................286 Figure 6.64 Source Protocol Layer Message Transmission State Diagram......................................................289 Figure 6.65 Sink Protocol Layer Message Transmission State Diagram...........................................................291 Figure 6.66 Protocol layer Message reception.............................................................................................................293 Figure 6.67 Hard/Cable Reset.............................................................................................................................................295", "full_path": "6 Protocol Layer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114 Figure 6.1 USB Power Delivery Packet Format for a Control Message...........................................................115 Figure 6.2 USB Power Delivery Packet Format including Data Message Payload.....................................116 Figure 6.3 USB Power Delivery Packet Format including an Extended Message Header and Payload 116 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 19 Figure 6.4 Example Security_Request sequence Unchunked (Chunked bit = 0)........................................123 Figure 6.5 Example byte transmission for Security_Request Message of Data Size 7 (Chunked bit is set to zero)...........................................................................................................................................................123 Figure 6.6 Example byte transmission for Security_Response Message of Data Size 30 (Chunked bit is set to zero)......................................................................................................................................................124 Figure 6.7 Example Security_Request sequence Chunked (Chunked bit = 1)..............................................125 Figure 6.8 Example Security_Request Message of Data Size 7 (Chunked bit set to 1).............................126 Figure 6.9 Example Chunk 0 of Security_Response Message of Data Size 30 (Chunked bit set to 1)126 Figure 6.10 Example byte transmission for a Security_Response Message Chunk request (Chunked bit is set to 1).............................................................................................................................................................127 Figure 6.11 Example Chunk 1 of Security_Response Message of Data Size 30 (Chunked bit set to 1)127 Figure 6.12 SPR Capabilities Message Construction..................................................................................................152 Figure 6.13 Example Capabilities Message with 2 Power Data Objects............................................................152 Figure 6.14 BIST Message.....................................................................................................................................................159 Figure 6.15 Vendor Defined Message...............................................................................................................................162 Figure 6.16 Discover Identity Command response....................................................................................................169 Figure 6.17 Discover Identity Command response for a DRD...............................................................................169 Figure 6.18 Example Discover SVIDs response with 3 SVIDs................................................................................186 Figure 6.19 Example Discover SVIDs response with 4 SVIDs................................................................................187 Figure 6.20 Example Discover SVIDs response with 12 SVIDs followed by an empty response...........187 Figure 6.21 Example Discover Modes response for a given SVID with 3 Modes..........................................188 Figure 6.22 Successful Enter Mode sequence...............................................................................................................189 Figure 6.23 Unsuccessful Enter Mode sequence due to NAK.................................................................................190 Figure 6.24 Exit Mode sequence.........................................................................................................................................191 Figure 6.25 Attention Command request/response sequence.............................................................................192 Figure 6.26 Command request/response sequence..................................................................................................193 Figure 6.27 Enter/Exit Mode Process..............................................................................................................................195 Figure 6.28 Battery_Status Message.................................................................................................................................196 Figure 6.29 Alert Message.....................................................................................................................................................198 Figure 6.30 Get_Country_Info Message...........................................................................................................................201 Figure 6.31 Enter_USB Message.........................................................................................................................................203 Figure 6.32 EPR_Request Message....................................................................................................................................205 Figure 6.33 EPR Mode DO Message...................................................................................................................................206 Figure 6.34 Illustration of process to enter EPR Mode.............................................................................................208 Figure 6.35 Source_Info Message.......................................................................................................................................212 Figure 6.36 Revision Message Data Object....................................................................................................................214 Figure 6.37 Source_Capabilities_Extended Message.................................................................................................216 Figure 6.38 SOP Status Message.........................................................................................................................................221 Figure 6.39 SOP'/SOP'' Status Message...........................................................................................................................226 Figure 6.40 Get_Battery_Cap Message.............................................................................................................................227 Figure 6.41 Get_Battery_Status Message........................................................................................................................227 Figure 6.42 Battery_Capabilities Message......................................................................................................................228 Figure 6.43 Get_Manufacturer_Info Message................................................................................................................230 Figure 6.44 Manufacturer_Info Message.........................................................................................................................231 Figure 6.45 Security_Request Message............................................................................................................................233 Figure 6.46 Security_Response Message........................................................................................................................233 Figure 6.47 Firmware_Update_Request Message.......................................................................................................234 Figure 6.48 Firmware_Update_Response Message....................................................................................................234 Figure 6.49 PPS_Status Message.........................................................................................................................................235 Figure 6.50 Country_Codes Message................................................................................................................................237 Figure 6.51 Country_Info Message....................................................................................................................................238 Figure 6.52 Sink_Capabilities_Extended Message.......................................................................................................239 Figure 6.53 Extended_Control Message..........................................................................................................................244 Figure 6.54 Mapping SPR Capabilities to EPR Capabilities.....................................................................................245 Figure 6.55 EPR_Source_Capabilities message with no EPR PDOs.....................................................................246 Figure 6.56 Vendor_Defined_Extended Message........................................................................................................247 Figure 6.57 Outline of States................................................................................................................................................275 Figure 6.58 References to states.........................................................................................................................................275 Page 20 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Figure 6.59 Chunking architecture Showing Message and Control Flow.........................................................277 Figure 6.60 Chunked Rx State Diagram...........................................................................................................................278 Figure 6.61 Chunked Tx State Diagram...........................................................................................................................281 Figure 6.62 Chunked Message Router State Diagram...............................................................................................284 Figure 6.63 Common Protocol Layer Message Transmission State Diagram.................................................286 Figure 6.64 Source Protocol Layer Message Transmission State Diagram......................................................289 Figure 6.65 Sink Protocol Layer Message Transmission State Diagram...........................................................291 Figure 6.66 Protocol layer Message reception.............................................................................................................293 Figure 6.67 Hard/Cable Reset.............................................................................................................................................295", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.1", "title": "Overview", "full_path": "6.1 Overview", "page": 114, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.2", "title": "Messages", "full_path": "6.2 Messages", "page": 115, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.2.1", "title": "Message Construction ..........................................................................................................................................115", "full_path": "6.2.1 Message Construction ..........................................................................................................................................115", "page": 1, "level": 3, "parent_id": "6.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3", "title": "Control Message", "full_path": "6.3 Control Message", "page": 128, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.1", "title": "GoodCRC Message ..................................................................................................................................................129", "full_path": "6.3.1 GoodCRC Message ..................................................................................................................................................129", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.2", "title": "GotoMin Message (Deprecated) .......................................................................................................................129", "full_path": "6.3.2 GotoMin Message (Deprecated) .......................................................................................................................129", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.3", "title": "Accept Message .......................................................................................................................................................129", "full_path": "6.3.3 Accept Message .......................................................................................................................................................129", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.4", "title": "Reject Message ........................................................................................................................................................129", "full_path": "6.3.4 Reject Message ........................................................................................................................................................129", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.5", "title": "Ping Message ............................................................................................................................................................130", "full_path": "6.3.5 Ping Message ............................................................................................................................................................130", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.6", "title": "PS_RDY Message .....................................................................................................................................................130", "full_path": "6.3.6 PS_RDY Message .....................................................................................................................................................130", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.7", "title": "Get_Source_Cap Message ....................................................................................................................................131", "full_path": "6.3.7 Get_Source_Cap Message ....................................................................................................................................131", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.8", "title": "Get_Sink_Cap Message ..........................................................................................................................................131 Page 14 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "full_path": "6.3.8 Get_Sink_Cap Message ..........................................................................................................................................131 Page 14 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.9", "title": "DR_Swap Message ..................................................................................................................................................131", "full_path": "6.3.9 DR_Swap Message ..................................................................................................................................................131", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.10", "title": "PR_Swap Message ..................................................................................................................................................131", "full_path": "6.3.10 PR_Swap Message ..................................................................................................................................................131", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.11", "title": "VCONN_Swap Message ...........................................................................................................................................132", "full_path": "6.3.11 VCONN_Swap Message ...........................................................................................................................................132", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.12", "title": "Wait Message ...........................................................................................................................................................133", "full_path": "6.3.12 Wait Message ...........................................................................................................................................................133", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.13", "title": "Soft Reset Message ................................................................................................................................................134", "full_path": "6.3.13 Soft Reset Message ................................................................................................................................................134", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.14", "title": "Data_Reset Message ..............................................................................................................................................135", "full_path": "6.3.14 Data_Reset Message ..............................................................................................................................................135", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.15", "title": "Data_Reset_Complete Message .........................................................................................................................135", "full_path": "6.3.15 Data_Reset_Complete Message .........................................................................................................................135", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.16", "title": "Not_Supported Message ......................................................................................................................................135", "full_path": "6.3.16 Not_Supported Message ......................................................................................................................................135", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.17", "title": "Get_Source_Cap_Extended Message ...............................................................................................................136", "full_path": "6.3.17 Get_Source_Cap_Extended Message ...............................................................................................................136", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.18", "title": "Get_Status Message ................................................................................................................................................136", "full_path": "6.3.18 Get_Status Message ................................................................................................................................................136", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.19", "title": "FR_Swap Message ..................................................................................................................................................136", "full_path": "6.3.19 FR_Swap Message ..................................................................................................................................................136", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.20", "title": "Get_PPS_Status .........................................................................................................................................................137", "full_path": "6.3.20 Get_PPS_Status .........................................................................................................................................................137", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.21", "title": "Get_Country_Codes ................................................................................................................................................137", "full_path": "6.3.21 Get_Country_Codes ................................................................................................................................................137", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.22", "title": "Get_Sink_Cap_Extended Message ....................................................................................................................137", "full_path": "6.3.22 Get_Sink_Cap_Extended Message ....................................................................................................................137", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.23", "title": "Get_Source_Info Message ....................................................................................................................................137", "full_path": "6.3.23 Get_Source_Info Message ....................................................................................................................................137", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.3.24", "title": "Get_Revision Message ..........................................................................................................................................137", "full_path": "6.3.24 Get_Revision Message ..........................................................................................................................................137", "page": 1, "level": 3, "parent_id": "6.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4", "title": "Data Message", "full_path": "6.4 Data Message", "page": 138, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.1", "title": "Capabilities Message .............................................................................................................................................139", "full_path": "6.4.1 Capabilities Message .............................................................................................................................................139", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.2", "title": "Request Message ....................................................................................................................................................155", "full_path": "6.4.2 Request Message ....................................................................................................................................................155", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.3", "title": "BIST Message ...........................................................................................................................................................159", "full_path": "6.4.3 BIST Message ...........................................................................................................................................................159", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.4", "title": "Vendor Defined Message .....................................................................................................................................162", "full_path": "6.4.4 Vendor Defined Message .....................................................................................................................................162", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.5", "title": "Battery_Status Message .......................................................................................................................................196", "full_path": "6.4.5 Battery_Status Message .......................................................................................................................................196", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.6", "title": "Alert Message ...........................................................................................................................................................198", "full_path": "6.4.6 Alert Message ...........................................................................................................................................................198", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.7", "title": "Get_Country_Info Message .................................................................................................................................201", "full_path": "6.4.7 Get_Country_Info Message .................................................................................................................................201", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.8", "title": "Enter_USB Message ...............................................................................................................................................202", "full_path": "6.4.8 Enter_USB Message ...............................................................................................................................................202", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.9", "title": "EPR_Request Message ..........................................................................................................................................205", "full_path": "6.4.9 EPR_Request Message ..........................................................................................................................................205", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.10", "title": "EPR_Mode Message ...............................................................................................................................................206", "full_path": "6.4.10 EPR_Mode Message ...............................................................................................................................................206", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.11", "title": "Source_Info Message .............................................................................................................................................212", "full_path": "6.4.11 Source_Info Message .............................................................................................................................................212", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.4.12", "title": "Revision Message ...................................................................................................................................................214", "full_path": "6.4.12 Revision Message ...................................................................................................................................................214", "page": 1, "level": 3, "parent_id": "6.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5", "title": "Extended Message", "full_path": "6.5 Extended Message", "page": 215, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.1", "title": "Source_Capabilities_Extended Message .......................................................................................................216", "full_path": "6.5.1 Source_Capabilities_Extended Message .......................................................................................................216", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.2", "title": "Status Message ........................................................................................................................................................221", "full_path": "6.5.2 Status Message ........................................................................................................................................................221", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.3", "title": "Get_Battery_Cap Message ...................................................................................................................................227", "full_path": "6.5.3 Get_Battery_Cap Message ...................................................................................................................................227", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.4", "title": "Get_Battery_Status Message ..............................................................................................................................227", "full_path": "6.5.4 Get_Battery_Status Message ..............................................................................................................................227", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.5", "title": "Battery_Capabilities Message ...........................................................................................................................228", "full_path": "6.5.5 Battery_Capabilities Message ...........................................................................................................................228", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.6", "title": "Get_Manufacturer_Info Message ......................................................................................................................230", "full_path": "6.5.6 Get_Manufacturer_Info Message ......................................................................................................................230", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.7", "title": "Manufacturer_Info Message ..............................................................................................................................231", "full_path": "6.5.7 Manufacturer_Info Message ..............................................................................................................................231", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.8", "title": "Security Messages ..................................................................................................................................................233", "full_path": "6.5.8 Security Messages ..................................................................................................................................................233", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.9", "title": "Firmware Update Messages ..............................................................................................................................234", "full_path": "6.5.9 Firmware Update Messages ..............................................................................................................................234", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.10", "title": "PPS_Status Message ...............................................................................................................................................235", "full_path": "6.5.10 PPS_Status Message ...............................................................................................................................................235", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.11", "title": "Country_Codes Message ......................................................................................................................................237", "full_path": "6.5.11 Country_Codes Message ......................................................................................................................................237", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.12", "title": "Country_Info Message ..........................................................................................................................................238", "full_path": "6.5.12 Country_Info Message ..........................................................................................................................................238", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.13", "title": "Sink_Capabilities_Extended Message ............................................................................................................239", "full_path": "6.5.13 Sink_Capabilities_Extended Message ............................................................................................................239", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.14", "title": "Extended_Control Message ................................................................................................................................244", "full_path": "6.5.14 Extended_Control Message ................................................................................................................................244", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.15", "title": "EPR Capabilities Message ...................................................................................................................................245", "full_path": "6.5.15 EPR Capabilities Message ...................................................................................................................................245", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.5.16", "title": "Vendor_Defined_Extended Message ..............................................................................................................247", "full_path": "6.5.16 Vendor_Defined_Extended Message ..............................................................................................................247", "page": 1, "level": 3, "parent_id": "6.5", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6", "title": "Timers", "full_path": "6.6 Timers", "page": 249, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.1", "title": "CRCReceiveTimer ...................................................................................................................................................249", "full_path": "6.6.1 CRCReceiveTimer ...................................................................................................................................................249", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.2", "title": "SenderResponseTimer .........................................................................................................................................249", "full_path": "6.6.2 SenderResponseTimer .........................................................................................................................................249", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.3", "title": "Capability Timers ...................................................................................................................................................249", "full_path": "6.6.3 Capability Timers ...................................................................................................................................................249", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.4", "title": "Wait Timers and Times ........................................................................................................................................251", "full_path": "6.6.4 Wait Timers and Times ........................................................................................................................................251", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.5", "title": "Power Supply Timers ...........................................................................................................................................251", "full_path": "6.6.5 Power Supply Timers ...........................................................................................................................................251", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.6", "title": "NoResponseTimer .................................................................................................................................................253", "full_path": "6.6.6 NoResponseTimer .................................................................................................................................................253", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.7", "title": "BIST Timers ..............................................................................................................................................................253", "full_path": "6.6.7 BIST Timers ..............................................................................................................................................................253", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.8", "title": "Power Role Swap Timers ....................................................................................................................................254", "full_path": "6.6.8 Power Role Swap Timers ....................................................................................................................................254", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.9", "title": "Soft Reset Timers ...................................................................................................................................................254", "full_path": "6.6.9 Soft Reset Timers ...................................................................................................................................................254", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.10", "title": "Data Reset Timers .................................................................................................................................................254", "full_path": "6.6.10 Data Reset Timers .................................................................................................................................................254", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.11", "title": "Hard Reset Timers .................................................................................................................................................255 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page", "full_path": "6.6.11 Hard Reset Timers .................................................................................................................................................255 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page", "page": 15, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.12", "title": "Structured VDM Timers .......................................................................................................................................255", "full_path": "6.6.12 Structured VDM Timers .......................................................................................................................................255", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.13", "title": "VCONN Timers ...........................................................................................................................................................257", "full_path": "6.6.13 VCONN Timers ...........................................................................................................................................................257", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.14", "title": "tCableMessage .........................................................................................................................................................257", "full_path": "6.6.14 tCableMessage .........................................................................................................................................................257", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.15", "title": "DiscoverIdentityTimer .........................................................................................................................................257", "full_path": "6.6.15 DiscoverIdentityTimer .........................................................................................................................................257", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.16", "title": "Collision Avoidance Timers ...............................................................................................................................257", "full_path": "6.6.16 Collision Avoidance Timers ...............................................................................................................................257", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.17", "title": "Fast Role Swap Timers .........................................................................................................................................258", "full_path": "6.6.17 Fast Role Swap Timers .........................................................................................................................................258", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.18", "title": "Chunking Timers ...................................................................................................................................................258", "full_path": "6.6.18 Chunking Timers ...................................................................................................................................................258", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.19", "title": "Programmable Power Supply Timers ...........................................................................................................259", "full_path": "6.6.19 Programmable Power Supply Timers ...........................................................................................................259", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.20", "title": "tEnterUSB ..................................................................................................................................................................260", "full_path": "6.6.20 tEnterUSB ..................................................................................................................................................................260", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.21", "title": "EPR Timers ................................................................................................................................................................260", "full_path": "6.6.21 EPR Timers ................................................................................................................................................................260", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.6.22", "title": "Time Values and Timers ......................................................................................................................................262", "full_path": "6.6.22 Time Values and Timers ......................................................................................................................................262", "page": 1, "level": 3, "parent_id": "6.6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7", "title": "Counters", "full_path": "6.7 Counters", "page": 265, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.1", "title": "MessageID Counter ................................................................................................................................................265", "full_path": "6.7.1 MessageID Counter ................................................................................................................................................265", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.2", "title": "Retry Counter ...........................................................................................................................................................265", "full_path": "6.7.2 Retry Counter ...........................................................................................................................................................265", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.3", "title": "Hard Reset Counter ...............................................................................................................................................266", "full_path": "6.7.3 Hard Reset Counter ...............................................................................................................................................266", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.4", "title": "Capabilities Counter ..............................................................................................................................................266", "full_path": "6.7.4 Capabilities Counter ..............................................................................................................................................266", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.5", "title": "Discover Identity Counter ..................................................................................................................................266", "full_path": "6.7.5 Discover Identity Counter ..................................................................................................................................266", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.6", "title": "VDMBusyCounter ...................................................................................................................................................266", "full_path": "6.7.6 VDMBusyCounter ...................................................................................................................................................266", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.7.7", "title": "Counter Values and Counters ...........................................................................................................................267", "full_path": "6.7.7 Counter Values and Counters ...........................................................................................................................267", "page": 1, "level": 3, "parent_id": "6.7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.8", "title": "Reset", "full_path": "6.8 Reset", "page": 268, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.8.1", "title": "Soft Reset and Protocol Error ...........................................................................................................................268", "full_path": "6.8.1 Soft Reset and Protocol Error ...........................................................................................................................268", "page": 1, "level": 3, "parent_id": "6.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.8.2", "title": "Data Reset ..................................................................................................................................................................270", "full_path": "6.8.2 Data Reset ..................................................................................................................................................................270", "page": 1, "level": 3, "parent_id": "6.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.8.3", "title": "Hard Reset .................................................................................................................................................................270", "full_path": "6.8.3 Hard Reset .................................................................................................................................................................270", "page": 1, "level": 3, "parent_id": "6.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.8.4", "title": "Cable Reset ................................................................................................................................................................271", "full_path": "6.8.4 Cable Reset ................................................................................................................................................................271", "page": 1, "level": 3, "parent_id": "6.8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.9", "title": "Accept, Reject and Wait", "full_path": "6.9 Accept, Reject and Wait", "page": 272, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.10", "title": "Collision Avoidance", "full_path": "6.10 Collision Avoidance", "page": 273, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.11", "title": "Message Discarding", "full_path": "6.11 Message Discarding", "page": 274, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.12", "title": "State behavior", "full_path": "6.12 State behavior", "page": 275, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.12.1", "title": "Introduction to state diagrams used in Chapter 6 ...................................................................................275", "full_path": "6.12.1 Introduction to state diagrams used in Chapter 6 ...................................................................................275", "page": 1, "level": 3, "parent_id": "6.12", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.12.2", "title": "State Operation .......................................................................................................................................................276", "full_path": "6.12.2 State Operation .......................................................................................................................................................276", "page": 1, "level": 3, "parent_id": "6.12", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.12.3", "title": "List of Protocol Layer States ..............................................................................................................................298", "full_path": "6.12.3 List of Protocol Layer States ..............................................................................................................................298", "page": 1, "level": 3, "parent_id": "6.12", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13", "title": "Message Applicability", "full_path": "6.13 Message Applicability", "page": 300, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.1", "title": "Applicability of Control Messages ...................................................................................................................301", "full_path": "6.13.1 Applicability of Control Messages ...................................................................................................................301", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.2", "title": "Applicability of Data Messages .........................................................................................................................303", "full_path": "6.13.2 Applicability of Data Messages .........................................................................................................................303", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.3", "title": "Applicability of Extended Messages ...............................................................................................................305", "full_path": "6.13.3 Applicability of Extended Messages ...............................................................................................................305", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.4", "title": "Applicability of Extended Control Messages ..............................................................................................308", "full_path": "6.13.4 Applicability of Extended Control Messages ..............................................................................................308", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.5", "title": "Applicability of Structured VDM Commands .............................................................................................309", "full_path": "6.13.5 Applicability of Structured VDM Commands .............................................................................................309", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.6", "title": "Applicability of Reset Signaling ........................................................................................................................310", "full_path": "6.13.6 Applicability of Reset Signaling ........................................................................................................................310", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.13.7", "title": "Applicability of Fast Role Swap Request ......................................................................................................310", "full_path": "6.13.7 Applicability of Fast Role Swap Request ......................................................................................................310", "page": 1, "level": 3, "parent_id": "6.13", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "6.14", "title": "Value Parameters", "full_path": "6.14 Value Parameters", "page": 311, "level": 2, "parent_id": "6", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7", "title": "Power Supply. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 312 Table7.1 Sequence Description for Increasing the Voltage...................................................................................343 Table7.2 Sequence Diagram for Increasing the Voltage and Current...............................................................346 Table7.3 Sequence Description for Increasing the Voltage and Decreasing the Current........................349 Table7.4 Sequence Description for Decreasing the Voltage and Increasing the Current........................352 Table7.5 Sequence Description for Decreasing the Voltage.................................................................................355 Table7.6 Sequence Description for Decreasing the Voltage and the Current...............................................358 Table7.7 Sequence Description for no change in Current or Voltage...............................................................360 Table7.8 Sequence Description for Increasing the Current..................................................................................363 Table7.9 Sequence Description for Decreasing the Current.................................................................................366 Table7.10 Sequence Description for Increasing the Programmable Power Supply Voltage....................369 Table7.11 Sequence Description for Decreasing the Programmable Power Supply Voltage...................372 Table7.12 Sequence Description for increasing the Current in PPS mode.......................................................375 Table7.13 Sequence Description for decreasing the Current in PPS mode......................................................378 Table7.14 Sequence Description for no change in Current or Voltage in PPS mode....................................380 Table7.15 Sequence Description for Increasing the Adjustable Voltage Supply Voltage...........................383 Table7.16 Sequence Description for Decreasing the Adjustable Voltage Supply Voltage..........................386 Table7.17 Sequence Description for no change in Current or Voltage in AVS mode...................................387 Table7.18 Sequence Description for a Sink Requested Power Role Swap........................................................390 Table7.19 Sequence Description for a Source Requested Power Role Swap...................................................394 Table7.20 Sequence Description for a Source Initiated Hard Reset....................................................................397 Table7.21 Sequence Description for a Sink Initiated Hard Reset.........................................................................399 Table7.22 Sequence Description for Fast Role Swap.................................................................................................402 Table7.23 Source Electrical Parameters..........................................................................................................................404 Table7.24 Sink Electrical Parameters...............................................................................................................................413 Table7.25 Common Source/Sink Electrical Parameters...........................................................................................415", "full_path": "7 Power Supply. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 312 Table7.1 Sequence Description for Increasing the Voltage...................................................................................343 Table7.2 Sequence Diagram for Increasing the Voltage and Current...............................................................346 Table7.3 Sequence Description for Increasing the Voltage and Decreasing the Current........................349 Table7.4 Sequence Description for Decreasing the Voltage and Increasing the Current........................352 Table7.5 Sequence Description for Decreasing the Voltage.................................................................................355 Table7.6 Sequence Description for Decreasing the Voltage and the Current...............................................358 Table7.7 Sequence Description for no change in Current or Voltage...............................................................360 Table7.8 Sequence Description for Increasing the Current..................................................................................363 Table7.9 Sequence Description for Decreasing the Current.................................................................................366 Table7.10 Sequence Description for Increasing the Programmable Power Supply Voltage....................369 Table7.11 Sequence Description for Decreasing the Programmable Power Supply Voltage...................372 Table7.12 Sequence Description for increasing the Current in PPS mode.......................................................375 Table7.13 Sequence Description for decreasing the Current in PPS mode......................................................378 Table7.14 Sequence Description for no change in Current or Voltage in PPS mode....................................380 Table7.15 Sequence Description for Increasing the Adjustable Voltage Supply Voltage...........................383 Table7.16 Sequence Description for Decreasing the Adjustable Voltage Supply Voltage..........................386 Table7.17 Sequence Description for no change in Current or Voltage in AVS mode...................................387 Table7.18 Sequence Description for a Sink Requested Power Role Swap........................................................390 Table7.19 Sequence Description for a Source Requested Power Role Swap...................................................394 Table7.20 Sequence Description for a Source Initiated Hard Reset....................................................................397 Table7.21 Sequence Description for a Sink Initiated Hard Reset.........................................................................399 Table7.22 Sequence Description for Fast Role Swap.................................................................................................402 Table7.23 Source Electrical Parameters..........................................................................................................................404 Table7.24 Sink Electrical Parameters...............................................................................................................................413 Table7.25 Common Source/Sink Electrical Parameters...........................................................................................415", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1", "title": "Source Requirements", "full_path": "7.1 Source Requirements", "page": 312, "level": 2, "parent_id": "7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.1", "title": "Behavioral Aspects ................................................................................................................................................312", "full_path": "7.1.1 Behavioral Aspects ................................................................................................................................................312", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.2", "title": "Source Bulk Capacitance .....................................................................................................................................312", "full_path": "7.1.2 Source Bulk Capacitance .....................................................................................................................................312", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.3", "title": "Types of Sources ....................................................................................................................................................312", "full_path": "7.1.3 Types of Sources ....................................................................................................................................................312", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.4", "title": "Source Transitions .................................................................................................................................................313", "full_path": "7.1.4 Source Transitions .................................................................................................................................................313", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.5", "title": "Response to Hard Resets ....................................................................................................................................322", "full_path": "7.1.5 Response to Hard Resets ....................................................................................................................................322", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.6", "title": "Changing the Output Power Capability ........................................................................................................323", "full_path": "7.1.6 Changing the Output Power Capability ........................................................................................................323", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.7", "title": "Robust Source Operation ....................................................................................................................................323", "full_path": "7.1.7 Robust Source Operation ....................................................................................................................................323", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.8", "title": "Output Voltage Tolerance and Range ............................................................................................................325", "full_path": "7.1.8 Output Voltage Tolerance and Range ............................................................................................................325", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.9", "title": "Charging and Discharging the Bulk Capacitance on VBUS .....................................................................328", "full_path": "7.1.9 Charging and Discharging the Bulk Capacitance on VBUS .....................................................................328", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.10", "title": "Swap Standby for Sources ..................................................................................................................................328", "full_path": "7.1.10 Swap Standby for Sources ..................................................................................................................................328", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.11", "title": "Source Peak Current Operation .......................................................................................................................328", "full_path": "7.1.11 Source Peak Current Operation .......................................................................................................................328", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.12", "title": "Source Capabilities Extended Parameters .................................................................................................329", "full_path": "7.1.12 Source Capabilities Extended Parameters .................................................................................................329", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.13", "title": "Fast Role Swap .........................................................................................................................................................331 Page 16 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "full_path": "7.1.13 Fast Role Swap .........................................................................................................................................................331 Page 16 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.14", "title": "Non-application of VBUS Slew Rate Limits ...................................................................................................332", "full_path": "7.1.14 Non-application of VBUS Slew Rate Limits ...................................................................................................332", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.1.15", "title": "VCONN Power Cycle ................................................................................................................................................333", "full_path": "7.1.15 VCONN Power Cycle ................................................................................................................................................333", "page": 1, "level": 3, "parent_id": "7.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2", "title": "Sink Requirements", "full_path": "7.2 Sink Requirements", "page": 335, "level": 2, "parent_id": "7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.1", "title": "Behavioral Aspects ................................................................................................................................................335", "full_path": "7.2.1 Behavioral Aspects ................................................................................................................................................335", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.2", "title": "Sink Bulk Capacitance ..........................................................................................................................................335", "full_path": "7.2.2 Sink Bulk Capacitance ..........................................................................................................................................335", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.3", "title": "Sink Standby .............................................................................................................................................................335", "full_path": "7.2.3 Sink Standby .............................................................................................................................................................335", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.4", "title": "Suspend Power Consumption ...........................................................................................................................336", "full_path": "7.2.4 Suspend Power Consumption ...........................................................................................................................336", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.5", "title": "Zero Negotiated Current .....................................................................................................................................336", "full_path": "7.2.5 Zero Negotiated Current .....................................................................................................................................336", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.6", "title": "Transient Load Behavior ....................................................................................................................................336", "full_path": "7.2.6 Transient Load Behavior ....................................................................................................................................336", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.7", "title": "Swap Standby for Sinks .......................................................................................................................................336", "full_path": "7.2.7 Swap Standby for Sinks .......................................................................................................................................336", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.8", "title": "Sink Peak Current Operation ............................................................................................................................336", "full_path": "7.2.8 Sink Peak Current Operation ............................................................................................................................336", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.9", "title": "Robust Sink Operation .........................................................................................................................................337", "full_path": "7.2.9 Robust Sink Operation .........................................................................................................................................337", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.2.10", "title": "Fast Role Swap .........................................................................................................................................................338", "full_path": "7.2.10 Fast Role Swap .........................................................................................................................................................338", "page": 1, "level": 3, "parent_id": "7.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.3", "title": "Transitions", "full_path": "7.3 Transitions", "page": 339, "level": 2, "parent_id": "7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.3.1", "title": "Transitions caused by a Request Message ..................................................................................................340", "full_path": "7.3.1 Transitions caused by a Request Message ..................................................................................................340", "page": 1, "level": 3, "parent_id": "7.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.3.2", "title": "Transitions Caused by Power Role Swap ....................................................................................................388", "full_path": "7.3.2 Transitions Caused by Power Role Swap ....................................................................................................388", "page": 1, "level": 3, "parent_id": "7.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.3.3", "title": "Transitions Caused by Hard Reset ..................................................................................................................396", "full_path": "7.3.3 Transitions Caused by Hard Reset ..................................................................................................................396", "page": 1, "level": 3, "parent_id": "7.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.3.4", "title": "Transitions Caused by Fast Role Swap .........................................................................................................400", "full_path": "7.3.4 Transitions Caused by Fast Role Swap .........................................................................................................400", "page": 1, "level": 3, "parent_id": "7.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.4", "title": "Electrical Parameters", "full_path": "7.4 Electrical Parameters", "page": 404, "level": 2, "parent_id": "7", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.4.1", "title": "Source Electrical Parameters ............................................................................................................................404", "full_path": "7.4.1 Source Electrical Parameters ............................................................................................................................404", "page": 1, "level": 3, "parent_id": "7.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.4.2", "title": "Sink Electrical Parameters .................................................................................................................................413", "full_path": "7.4.2 Sink Electrical Parameters .................................................................................................................................413", "page": 1, "level": 3, "parent_id": "7.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "7.4.3", "title": "Common Electrical Parameters .......................................................................................................................415", "full_path": "7.4.3 Common Electrical Parameters .......................................................................................................................415", "page": 1, "level": 3, "parent_id": "7.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8", "title": "Device Policy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 416 Table8.1 Basic Message Flow.............................................................................................................................................426 Table8.2 Potential issues in Basic Message Flow......................................................................................................427 Table8.3 Basic Message Flow with CRC failure..........................................................................................................429 Table8.4 Atomic Message Sequences..............................................................................................................................430 Table8.5 AMS: Power Negotiation (SPR)......................................................................................................................431 Table8.6 AMS: Power Negotiation (EPR)......................................................................................................................432 Table8.7 AMS: Unsupported Message............................................................................................................................434 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 29 Table8.8 AMS: Soft Reset......................................................................................................................................................434 Table8.9 AMS: Data Reset....................................................................................................................................................434 Table8.10 AMS: Power Role Swap......................................................................................................................................435 Table8.11 AMS: Fast Role Swap...........................................................................................................................................435 Table8.12 AMS: Data Role Swap..........................................................................................................................................436 Table8.13 AMS: VCONN Swap.................................................................................................................................................437 Table8.14 AMS: Alert................................................................................................................................................................437 Table8.15 AMS: Status..............................................................................................................................................................438 Table8.16 AMS: Source/Sink Capabilities (SPR)..........................................................................................................438 Table8.17 AMS: Source/Sink Capabilities (EPR)..........................................................................................................439 Table8.18 AMS: Extended Capabilities.............................................................................................................................440 Table8.19 AMS: Battery Capabilities..................................................................................................................................440 Table8.20 AMS: Manufacturer Information....................................................................................................................441 Table8.21 AMS: Country Codes............................................................................................................................................441 Table8.22 AMS: Country Information...............................................................................................................................441 Table8.23 AMS: Revision Information..............................................................................................................................442 Table8.24 AMS: Source Information..................................................................................................................................442 Table8.25 AMS: Security.........................................................................................................................................................442 Table8.26 AMS: Firmware Update......................................................................................................................................443 Table8.27 AMS: Structured VDM.........................................................................................................................................444 Table8.28 AMS: Built-In Self-Test (BIST).........................................................................................................................445 Table8.29 AMS: Enter USB.....................................................................................................................................................445 Table8.30 AMS: Unstructured VDM...................................................................................................................................445 Table8.31 AMS: Hard Reset...................................................................................................................................................446 Table8.32 Steps for a successful Power Negotiation..................................................................................................449 Table8.33 Steps for a rejected Power Negotiation......................................................................................................453 Table8.34 Steps for a Wait response to a Power Negotiation.................................................................................456 Table8.35 Steps for SPR PPS Keep Alive..........................................................................................................................459 Table8.36 Steps for SPR Sink Makes Request (Accept).............................................................................................462 Table8.37 Steps for SPR Sink Makes Request (Reject)..............................................................................................465 Table8.38 Steps for SPR Sink Makes Request (Wait).................................................................................................468 Table8.39 Steps for Entering EPR Mode (Success)......................................................................................................471 Table8.40 Steps for Entering EPR Mode (Failure due to non-EPR cable).........................................................474 Table8.41 Steps for Entering EPR Mode (Failure of VCONN Swap).......................................................................477 Table8.42 Steps for a successful EPR Power Negotiation........................................................................................481 Table8.43 Steps for a Rejected EPR Power Negotiation............................................................................................485 Table8.44 Steps for a Wait response to an EPR Power Negotiation....................................................................488 Table8.45 Steps for EPR Keep Alive...................................................................................................................................491 Table8.46 Steps for Exiting EPR Mode (Sink Initiated).............................................................................................494 Table8.47 Steps for Exiting EPR Mode (Source Initiated)........................................................................................497 Table8.48 Steps for EPR Sink Makes Request (Accept).............................................................................................500 Table8.49 Steps for EPR Sink Makes Request (Reject)..............................................................................................503 Table8.50 Steps for SPR Sink Makes Request (Wait).................................................................................................506 Table8.51 Steps for an Unsupported Message..............................................................................................................509 Table8.52 Steps for a Soft Reset...........................................................................................................................................512 Table8.53 Steps for a DFP Initiated Data Reset where the DFP is the VCONN Source...................................515 Table8.54 Steps for a DFP Receiving a Data Reset where the DFP is the VCONNSource..............................518 Table8.55 Steps for a DFP Initiated Data Reset where the UFP is the VCONN Source...................................521 Table8.56 Steps for a DFP Receiving a Data Reset where the UFP is the VCONN Source.............................525 Table8.57 Steps for Source initiated Hard Reset..........................................................................................................529 Table8.58 Steps for Sink initiated Hard Reset...............................................................................................................532 Table8.59 Steps for Source initiated Hard Reset - Sink long reset.......................................................................535 Table8.60 Steps for a Successful Source Initiated Power Role Swap Sequence.............................................539 Table8.61 Steps for a Rejected Source Initiated Power Role Swap Sequence.................................................543 Table8.62 Steps for a Source Initiated Power Role Swap with Wait Sequence...............................................546 Table8.63 Steps for a Successful Sink Initiated Power Role Swap Sequence...................................................550 Table8.64 Steps for a Rejected Sink Initiated Power Role Swap Sequence......................................................554 Table8.65 Steps for a Sink Initiated Power Role Swap with Wait Sequence....................................................557 Page 30 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Table8.66 Steps for a Successful Fast Role Swap Sequence....................................................................................561 Table8.67 Steps for Data Role Swap, UFP operating as Sink initiates.................................................................565 Table8.68 Steps for Rejected Data Role Swap, UFP operating as Sink initiates..............................................568 Table8.69 Steps for Data Role Swap with Wait, UFP operating as Sink initiates...........................................571 Table8.70 Steps for Data Role Swap, UFP operating as Source initiates............................................................574 Table8.71 Steps for Rejected Data Role Swap, UFP operating as Source initiates.........................................577 Table8.72 Steps for Data Role Swap with Wait, UFP operating as Source initiates......................................580 Table8.73 Steps for Data Role Swap, DFP operating as Source initiates............................................................583 Table8.74 Steps for Rejected Data Role Swap, DFP operating as Source initiates........................................586 Table8.75 Steps for Data Role Swap with Wait, DFP operating as Source initiates......................................589 Table8.76 Steps for Data Role Swap, DFP operating as Sink initiates.................................................................592 Table8.77 Steps for Rejected Data Role Swap, DFP operating as Sink initiates..............................................595 Table8.78 Steps for Data Role Swap with Wait, DFP operating as Sink initiates...........................................598 Table8.79 Steps for Source to Sink VCONN Source Swap...........................................................................................601 Table8.80 Steps for Rejected VCONN Source Swap.......................................................................................................604 Table8.81 Steps for VCONN Source Swap with Wait.....................................................................................................607 Table8.82 Steps for VCONN Source Swap, Initiated by non-VCONN Source.........................................................610 Table8.83 Steps for Rejected VCONN Source Swap, Initiated by non-VCONN Source......................................613 Table8.84 Steps for VCONN Source Swap with Wait.....................................................................................................616 Table8.85 Steps for Source Alert to Sink..........................................................................................................................619 Table8.86 Steps for Sink Alert to Source..........................................................................................................................621 Table8.87 Steps for a Sink getting Source Status Sequence.....................................................................................623 Table8.88 Steps for a Source getting Sink Status Sequence.....................................................................................626 Table8.89 Steps for a VCONN Source getting Cable Plug Status Sequence..........................................................629 Table8.90 Steps for a Sink getting Source PPS status Sequence............................................................................632 Table8.91 Steps for a Sink getting Source Capabilities Sequence.........................................................................635 Table8.92 Steps for a Dual-Role Source getting Dual-Role Sink's capabilities as a Source Sequence...638 Table8.93 Steps for a Source getting Sink Capabilities Sequence.........................................................................641 Table8.94 Steps for a Dual-Role Sink getting Dual-Role Source capabilities as a Sink Sequence...........644 Table8.95 Steps for a Sink getting EPR Source Capabilities Sequence...............................................................647 Table8.96 Steps for a Dual-Role Source getting Dual-Role Sink's capabilities as an EPR Source Se- quence.......................................................................................................................................................................650 Table8.97 Steps for a Source getting Sink EPR Capabilities Sequence...............................................................653 Table8.98 Steps for a Dual-Role Sink getting Dual-Role Source Capabilities as an EPR Sink Sequence 656 Table8.99 Steps for a Sink getting Source Extended Capabilities Sequence....................................................659 Table8.100 Steps for a Dual-Role Source getting Dual-Role Sink Extended Capabilities Sequence.........662 Table8.101 Steps for a Source getting Sink Extended Capabilities Sequence....................................................665 Table8.102 Steps for a Dual-Role Sink getting Dual-Role Source Extended Capabilities Sequence.........668 Table8.103 Steps for a Sink getting Source Battery capabilities Sequence.........................................................671 Table8.104 Steps for a Source getting Sink Battery capabilities Sequence.........................................................674 Table8.105 Steps for a Sink getting Source Battery status Sequence....................................................................677 Table8.106 Steps for a Source getting Sink Battery status Sequence....................................................................680 Table8.107 Steps for a Source getting Sink's Port Manufacturer Information Sequence.............................683 Table8.108 Steps for a Source getting Sink's Port Manufacturer Information Sequence.............................686 Table8.109 Steps for a Source getting Sink's Battery Manufacturer Information Sequence.......................689 Table8.110 Steps for a Source getting Sink's Battery Manufacturer Information Sequence.......................692 Table8.111 Steps for a VCONN Source getting Sink's Port Manufacturer Information Sequence...............695 Table8.112 Steps for a Source getting Country Codes Sequence.............................................................................698 Table8.113 Steps for a Source getting Sink's Country Codes Sequence................................................................701 Table8.114 Steps for a VCONN Source getting Sink's Country Codes Sequence..................................................704 Table8.115 Steps for a Source getting Country Information Sequence................................................................707 Table8.116 Steps for a Source getting Sink's Country Information Sequence...................................................710 Table8.117 Steps for a VCONN Source getting Sink's Country Information Sequence.....................................713 Table8.118 Steps for a Source getting Revision Information Sequence...............................................................716 Table8.119 Steps for a Source getting Sink's Revision Information Sequence..................................................719 Table8.120 Steps for a VCONN Source getting Sink's Revision Information Sequence....................................722 Table8.121 Steps for a Sink getting Source Information Sequence........................................................................725 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 31 Table8.122 Steps for a Dual-Role Source getting Dual-Role Sink's Information as a Source Sequence.728 Table8.123 Steps for a Source requesting a security exchange with a Sink Sequence...................................731 Table8.124 Steps for a Sink requesting a security exchange with a Source Sequence...................................734 Table8.125 Steps for a VCONN Source requesting a security exchange with a Cable Plug Sequence........737 Table8.126 Steps for a Source requesting a firmware update exchange with a Sink Sequence.................740 Table8.127 Steps for a Sink requesting a firmware update exchange with a Source Sequence.................743 Table8.128 Steps for a VCONN Source requesting a firmware update exchange with a Cable Plug Se- quence.......................................................................................................................................................................746 Table8.129 Steps for Initiator to UFP Discover Identity (ACK)................................................................................749 Table8.130 Steps for Initiator to UFP Discover Identity (NAK)...............................................................................752 Table8.131 Steps for Initiator to UFP Discover Identity (BUSY)..............................................................................755 Table8.132 Steps for DFP to UFP Discover SVIDs (ACK).............................................................................................758 Table8.133 Steps for DFP to UFP Discover SVIDs (NAK)............................................................................................761 Table8.134 Steps for DFP to UFP Discover SVIDs (BUSY)..........................................................................................764 Table8.135 Steps for DFP to UFP Discover Modes (ACK)...........................................................................................767 Table8.136 Steps for DFP to UFP Discover Modes (NAK)...........................................................................................770 Table8.137 Steps for DFP to UFP Discover Modes (BUSY).........................................................................................773 Table8.138 Steps for DFP to UFP Enter Mode..................................................................................................................776 Table8.139 Steps for DFP to UFP Exit Mode.....................................................................................................................779 Table8.140 Steps for DFP to Cable Plug Enter Mode.....................................................................................................782 Table8.141 Steps for DFP to Cable Plug Exit Mode........................................................................................................785 Table8.142 Steps for Initiator to Responder Attention................................................................................................788 Table8.143 Steps for BIST Carrier Mode Test..................................................................................................................790 Table8.144 Steps for BIST Test Data Test..........................................................................................................................793 Table8.145 Steps for BIST Shared Capacity Test Mode Test.....................................................................................796 Table8.146 Steps for UFP USB4 Mode Entry (Accept)..................................................................................................799 Table8.147 Steps for UFP USB4 Mode Entry (Reject)...................................................................................................802 Table8.148 Steps for UFP USB4 Mode Entry (Wait)......................................................................................................805 Table8.149 Steps for Cable Plug USB4 Mode Entry (Accept)....................................................................................808 Table8.150 Steps for Cable Plug USB4 Mode Entry (Reject)......................................................................................811 Table8.151 Steps for Cable Plug USB4 Mode Entry (Wait).........................................................................................814 Table8.152 Steps for Unstructured VDM Message Sequence....................................................................................817 Table8.153 Steps for VDEM Message Sequence..............................................................................................................820 Table8.154 Policy Engine States.............................................................................................................................................966", "full_path": "8 Device Policy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 416 Table8.1 Basic Message Flow.............................................................................................................................................426 Table8.2 Potential issues in Basic Message Flow......................................................................................................427 Table8.3 Basic Message Flow with CRC failure..........................................................................................................429 Table8.4 Atomic Message Sequences..............................................................................................................................430 Table8.5 AMS: Power Negotiation (SPR)......................................................................................................................431 Table8.6 AMS: Power Negotiation (EPR)......................................................................................................................432 Table8.7 AMS: Unsupported Message............................................................................................................................434 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 29 Table8.8 AMS: Soft Reset......................................................................................................................................................434 Table8.9 AMS: Data Reset....................................................................................................................................................434 Table8.10 AMS: Power Role Swap......................................................................................................................................435 Table8.11 AMS: Fast Role Swap...........................................................................................................................................435 Table8.12 AMS: Data Role Swap..........................................................................................................................................436 Table8.13 AMS: VCONN Swap.................................................................................................................................................437 Table8.14 AMS: Alert................................................................................................................................................................437 Table8.15 AMS: Status..............................................................................................................................................................438 Table8.16 AMS: Source/Sink Capabilities (SPR)..........................................................................................................438 Table8.17 AMS: Source/Sink Capabilities (EPR)..........................................................................................................439 Table8.18 AMS: Extended Capabilities.............................................................................................................................440 Table8.19 AMS: Battery Capabilities..................................................................................................................................440 Table8.20 AMS: Manufacturer Information....................................................................................................................441 Table8.21 AMS: Country Codes............................................................................................................................................441 Table8.22 AMS: Country Information...............................................................................................................................441 Table8.23 AMS: Revision Information..............................................................................................................................442 Table8.24 AMS: Source Information..................................................................................................................................442 Table8.25 AMS: Security.........................................................................................................................................................442 Table8.26 AMS: Firmware Update......................................................................................................................................443 Table8.27 AMS: Structured VDM.........................................................................................................................................444 Table8.28 AMS: Built-In Self-Test (BIST).........................................................................................................................445 Table8.29 AMS: Enter USB.....................................................................................................................................................445 Table8.30 AMS: Unstructured VDM...................................................................................................................................445 Table8.31 AMS: Hard Reset...................................................................................................................................................446 Table8.32 Steps for a successful Power Negotiation..................................................................................................449 Table8.33 Steps for a rejected Power Negotiation......................................................................................................453 Table8.34 Steps for a Wait response to a Power Negotiation.................................................................................456 Table8.35 Steps for SPR PPS Keep Alive..........................................................................................................................459 Table8.36 Steps for SPR Sink Makes Request (Accept).............................................................................................462 Table8.37 Steps for SPR Sink Makes Request (Reject)..............................................................................................465 Table8.38 Steps for SPR Sink Makes Request (Wait).................................................................................................468 Table8.39 Steps for Entering EPR Mode (Success)......................................................................................................471 Table8.40 Steps for Entering EPR Mode (Failure due to non-EPR cable).........................................................474 Table8.41 Steps for Entering EPR Mode (Failure of VCONN Swap).......................................................................477 Table8.42 Steps for a successful EPR Power Negotiation........................................................................................481 Table8.43 Steps for a Rejected EPR Power Negotiation............................................................................................485 Table8.44 Steps for a Wait response to an EPR Power Negotiation....................................................................488 Table8.45 Steps for EPR Keep Alive...................................................................................................................................491 Table8.46 Steps for Exiting EPR Mode (Sink Initiated).............................................................................................494 Table8.47 Steps for Exiting EPR Mode (Source Initiated)........................................................................................497 Table8.48 Steps for EPR Sink Makes Request (Accept).............................................................................................500 Table8.49 Steps for EPR Sink Makes Request (Reject)..............................................................................................503 Table8.50 Steps for SPR Sink Makes Request (Wait).................................................................................................506 Table8.51 Steps for an Unsupported Message..............................................................................................................509 Table8.52 Steps for a Soft Reset...........................................................................................................................................512 Table8.53 Steps for a DFP Initiated Data Reset where the DFP is the VCONN Source...................................515 Table8.54 Steps for a DFP Receiving a Data Reset where the DFP is the VCONNSource..............................518 Table8.55 Steps for a DFP Initiated Data Reset where the UFP is the VCONN Source...................................521 Table8.56 Steps for a DFP Receiving a Data Reset where the UFP is the VCONN Source.............................525 Table8.57 Steps for Source initiated Hard Reset..........................................................................................................529 Table8.58 Steps for Sink initiated Hard Reset...............................................................................................................532 Table8.59 Steps for Source initiated Hard Reset - Sink long reset.......................................................................535 Table8.60 Steps for a Successful Source Initiated Power Role Swap Sequence.............................................539 Table8.61 Steps for a Rejected Source Initiated Power Role Swap Sequence.................................................543 Table8.62 Steps for a Source Initiated Power Role Swap with Wait Sequence...............................................546 Table8.63 Steps for a Successful Sink Initiated Power Role Swap Sequence...................................................550 Table8.64 Steps for a Rejected Sink Initiated Power Role Swap Sequence......................................................554 Table8.65 Steps for a Sink Initiated Power Role Swap with Wait Sequence....................................................557 Page 30 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Table8.66 Steps for a Successful Fast Role Swap Sequence....................................................................................561 Table8.67 Steps for Data Role Swap, UFP operating as Sink initiates.................................................................565 Table8.68 Steps for Rejected Data Role Swap, UFP operating as Sink initiates..............................................568 Table8.69 Steps for Data Role Swap with Wait, UFP operating as Sink initiates...........................................571 Table8.70 Steps for Data Role Swap, UFP operating as Source initiates............................................................574 Table8.71 Steps for Rejected Data Role Swap, UFP operating as Source initiates.........................................577 Table8.72 Steps for Data Role Swap with Wait, UFP operating as Source initiates......................................580 Table8.73 Steps for Data Role Swap, DFP operating as Source initiates............................................................583 Table8.74 Steps for Rejected Data Role Swap, DFP operating as Source initiates........................................586 Table8.75 Steps for Data Role Swap with Wait, DFP operating as Source initiates......................................589 Table8.76 Steps for Data Role Swap, DFP operating as Sink initiates.................................................................592 Table8.77 Steps for Rejected Data Role Swap, DFP operating as Sink initiates..............................................595 Table8.78 Steps for Data Role Swap with Wait, DFP operating as Sink initiates...........................................598 Table8.79 Steps for Source to Sink VCONN Source Swap...........................................................................................601 Table8.80 Steps for Rejected VCONN Source Swap.......................................................................................................604 Table8.81 Steps for VCONN Source Swap with Wait.....................................................................................................607 Table8.82 Steps for VCONN Source Swap, Initiated by non-VCONN Source.........................................................610 Table8.83 Steps for Rejected VCONN Source Swap, Initiated by non-VCONN Source......................................613 Table8.84 Steps for VCONN Source Swap with Wait.....................................................................................................616 Table8.85 Steps for Source Alert to Sink..........................................................................................................................619 Table8.86 Steps for Sink Alert to Source..........................................................................................................................621 Table8.87 Steps for a Sink getting Source Status Sequence.....................................................................................623 Table8.88 Steps for a Source getting Sink Status Sequence.....................................................................................626 Table8.89 Steps for a VCONN Source getting Cable Plug Status Sequence..........................................................629 Table8.90 Steps for a Sink getting Source PPS status Sequence............................................................................632 Table8.91 Steps for a Sink getting Source Capabilities Sequence.........................................................................635 Table8.92 Steps for a Dual-Role Source getting Dual-Role Sink's capabilities as a Source Sequence...638 Table8.93 Steps for a Source getting Sink Capabilities Sequence.........................................................................641 Table8.94 Steps for a Dual-Role Sink getting Dual-Role Source capabilities as a Sink Sequence...........644 Table8.95 Steps for a Sink getting EPR Source Capabilities Sequence...............................................................647 Table8.96 Steps for a Dual-Role Source getting Dual-Role Sink's capabilities as an EPR Source Se- quence.......................................................................................................................................................................650 Table8.97 Steps for a Source getting Sink EPR Capabilities Sequence...............................................................653 Table8.98 Steps for a Dual-Role Sink getting Dual-Role Source Capabilities as an EPR Sink Sequence 656 Table8.99 Steps for a Sink getting Source Extended Capabilities Sequence....................................................659 Table8.100 Steps for a Dual-Role Source getting Dual-Role Sink Extended Capabilities Sequence.........662 Table8.101 Steps for a Source getting Sink Extended Capabilities Sequence....................................................665 Table8.102 Steps for a Dual-Role Sink getting Dual-Role Source Extended Capabilities Sequence.........668 Table8.103 Steps for a Sink getting Source Battery capabilities Sequence.........................................................671 Table8.104 Steps for a Source getting Sink Battery capabilities Sequence.........................................................674 Table8.105 Steps for a Sink getting Source Battery status Sequence....................................................................677 Table8.106 Steps for a Source getting Sink Battery status Sequence....................................................................680 Table8.107 Steps for a Source getting Sink's Port Manufacturer Information Sequence.............................683 Table8.108 Steps for a Source getting Sink's Port Manufacturer Information Sequence.............................686 Table8.109 Steps for a Source getting Sink's Battery Manufacturer Information Sequence.......................689 Table8.110 Steps for a Source getting Sink's Battery Manufacturer Information Sequence.......................692 Table8.111 Steps for a VCONN Source getting Sink's Port Manufacturer Information Sequence...............695 Table8.112 Steps for a Source getting Country Codes Sequence.............................................................................698 Table8.113 Steps for a Source getting Sink's Country Codes Sequence................................................................701 Table8.114 Steps for a VCONN Source getting Sink's Country Codes Sequence..................................................704 Table8.115 Steps for a Source getting Country Information Sequence................................................................707 Table8.116 Steps for a Source getting Sink's Country Information Sequence...................................................710 Table8.117 Steps for a VCONN Source getting Sink's Country Information Sequence.....................................713 Table8.118 Steps for a Source getting Revision Information Sequence...............................................................716 Table8.119 Steps for a Source getting Sink's Revision Information Sequence..................................................719 Table8.120 Steps for a VCONN Source getting Sink's Revision Information Sequence....................................722 Table8.121 Steps for a Sink getting Source Information Sequence........................................................................725 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page 31 Table8.122 Steps for a Dual-Role Source getting Dual-Role Sink's Information as a Source Sequence.728 Table8.123 Steps for a Source requesting a security exchange with a Sink Sequence...................................731 Table8.124 Steps for a Sink requesting a security exchange with a Source Sequence...................................734 Table8.125 Steps for a VCONN Source requesting a security exchange with a Cable Plug Sequence........737 Table8.126 Steps for a Source requesting a firmware update exchange with a Sink Sequence.................740 Table8.127 Steps for a Sink requesting a firmware update exchange with a Source Sequence.................743 Table8.128 Steps for a VCONN Source requesting a firmware update exchange with a Cable Plug Se- quence.......................................................................................................................................................................746 Table8.129 Steps for Initiator to UFP Discover Identity (ACK)................................................................................749 Table8.130 Steps for Initiator to UFP Discover Identity (NAK)...............................................................................752 Table8.131 Steps for Initiator to UFP Discover Identity (BUSY)..............................................................................755 Table8.132 Steps for DFP to UFP Discover SVIDs (ACK).............................................................................................758 Table8.133 Steps for DFP to UFP Discover SVIDs (NAK)............................................................................................761 Table8.134 Steps for DFP to UFP Discover SVIDs (BUSY)..........................................................................................764 Table8.135 Steps for DFP to UFP Discover Modes (ACK)...........................................................................................767 Table8.136 Steps for DFP to UFP Discover Modes (NAK)...........................................................................................770 Table8.137 Steps for DFP to UFP Discover Modes (BUSY).........................................................................................773 Table8.138 Steps for DFP to UFP Enter Mode..................................................................................................................776 Table8.139 Steps for DFP to UFP Exit Mode.....................................................................................................................779 Table8.140 Steps for DFP to Cable Plug Enter Mode.....................................................................................................782 Table8.141 Steps for DFP to Cable Plug Exit Mode........................................................................................................785 Table8.142 Steps for Initiator to Responder Attention................................................................................................788 Table8.143 Steps for BIST Carrier Mode Test..................................................................................................................790 Table8.144 Steps for BIST Test Data Test..........................................................................................................................793 Table8.145 Steps for BIST Shared Capacity Test Mode Test.....................................................................................796 Table8.146 Steps for UFP USB4 Mode Entry (Accept)..................................................................................................799 Table8.147 Steps for UFP USB4 Mode Entry (Reject)...................................................................................................802 Table8.148 Steps for UFP USB4 Mode Entry (Wait)......................................................................................................805 Table8.149 Steps for Cable Plug USB4 Mode Entry (Accept)....................................................................................808 Table8.150 Steps for Cable Plug USB4 Mode Entry (Reject)......................................................................................811 Table8.151 Steps for Cable Plug USB4 Mode Entry (Wait).........................................................................................814 Table8.152 Steps for Unstructured VDM Message Sequence....................................................................................817 Table8.153 Steps for VDEM Message Sequence..............................................................................................................820 Table8.154 Policy Engine States.............................................................................................................................................966", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.1", "title": "Overview", "full_path": "8.1 Overview", "page": 416, "level": 2, "parent_id": "8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2", "title": "Device Policy Manager", "full_path": "8.2 Device Policy Manager", "page": 417, "level": 2, "parent_id": "8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.1", "title": "Capabilities ................................................................................................................................................................418", "full_path": "8.2.1 Capabilities ................................................................................................................................................................418", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.2", "title": "System Policy ...........................................................................................................................................................418", "full_path": "8.2.2 System Policy ...........................................................................................................................................................418", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.3", "title": "Control of Source/Sink ........................................................................................................................................419", "full_path": "8.2.3 Control of Source/Sink ........................................................................................................................................419", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.4", "title": "Cable Detection .......................................................................................................................................................419", "full_path": "8.2.4 Cable Detection .......................................................................................................................................................419", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.5", "title": "Managing Power Requirements .......................................................................................................................420", "full_path": "8.2.5 Managing Power Requirements .......................................................................................................................420", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.6", "title": "Use of \"Unconstrained Power\" bit with Batteries and AC supplies ..................................................421", "full_path": "8.2.6 Use of \"Unconstrained Power\" bit with Batteries and AC supplies ..................................................421", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.2.7", "title": "Interface to the Policy Engine ...........................................................................................................................423", "full_path": "8.2.7 Interface to the Policy Engine ...........................................................................................................................423", "page": 1, "level": 3, "parent_id": "8.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.3", "title": "Policy Engine", "full_path": "8.3 Policy Engine", "page": 424, "level": 2, "parent_id": "8", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.3.1", "title": "Introduction ..............................................................................................................................................................424", "full_path": "8.3.1 Introduction ..............................................................................................................................................................424", "page": 1, "level": 3, "parent_id": "8.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.3.2", "title": "Atomic Message Sequence Diagrams ............................................................................................................425", "full_path": "8.3.2 Atomic Message Sequence Diagrams ............................................................................................................425", "page": 1, "level": 3, "parent_id": "8.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "8.3.3", "title": "State Diagrams .........................................................................................................................................................822", "full_path": "8.3.3 State Diagrams .........................................................................................................................................................822", "page": 1, "level": 3, "parent_id": "8.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9", "title": "States and Status Reporting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 975 Table9.1 USB Power Delivery Type Codes...................................................................................................................985 Table9.2 USB Power Delivery Capability Descriptor...............................................................................................986 Table9.3 Battery Info Capability Descriptor................................................................................................................987 Table9.4 PD Consumer Port Descriptor.........................................................................................................................988 Table9.5 PD Provider Port Descriptor............................................................................................................................989 Table9.6 PD Requests............................................................................................................................................................990 Table9.7 PD Request Codes.................................................................................................................................................990 Table9.8 PD Feature Selectors...........................................................................................................................................990 Table9.9 Get Battery Status Request...............................................................................................................................991 Table9.10 Battery Status Structure....................................................................................................................................991 Table9.11 Set PD Feature........................................................................................................................................................992 Table9.12 Battery Wake Mask..............................................................................................................................................993 Table9.13 Charging Policy Encoding.................................................................................................................................994", "full_path": "9 States and Status Reporting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 975 Table9.1 USB Power Delivery Type Codes...................................................................................................................985 Table9.2 USB Power Delivery Capability Descriptor...............................................................................................986 Table9.3 Battery Info Capability Descriptor................................................................................................................987 Table9.4 PD Consumer Port Descriptor.........................................................................................................................988 Table9.5 PD Provider Port Descriptor............................................................................................................................989 Table9.6 PD Requests............................................................................................................................................................990 Table9.7 PD Request Codes.................................................................................................................................................990 Table9.8 PD Feature Selectors...........................................................................................................................................990 Table9.9 Get Battery Status Request...............................................................................................................................991 Table9.10 Battery Status Structure....................................................................................................................................991 Table9.11 Set PD Feature........................................................................................................................................................992 Table9.12 Battery Wake Mask..............................................................................................................................................993 Table9.13 Charging Policy Encoding.................................................................................................................................994", "page": 1, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.1", "title": "Overview", "full_path": "9.1 Overview", "page": 975, "level": 2, "parent_id": "9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.1.1", "title": "PDUSB Device and Hub Requirements .........................................................................................................979", "full_path": "9.1.1 PDUSB Device and Hub Requirements .........................................................................................................979", "page": 1, "level": 3, "parent_id": "9.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.1.2", "title": "Mapping to USB Device States ..........................................................................................................................980", "full_path": "9.1.2 Mapping to USB Device States ..........................................................................................................................980", "page": 1, "level": 3, "parent_id": "9.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.1.3", "title": "PD Software Stack ..................................................................................................................................................983", "full_path": "9.1.3 PD Software Stack ..................................................................................................................................................983", "page": 1, "level": 3, "parent_id": "9.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.1.4", "title": "PDUSB Device Enumeration ..............................................................................................................................984", "full_path": "9.1.4 PDUSB Device Enumeration ..............................................................................................................................984", "page": 1, "level": 3, "parent_id": "9.1", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.2", "title": "PD Specific Descriptors", "full_path": "9.2 PD Specific Descriptors", "page": 985, "level": 2, "parent_id": "9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.2.1", "title": "USB Power Delivery Capability Descriptor .................................................................................................986", "full_path": "9.2.1 USB Power Delivery Capability Descriptor .................................................................................................986", "page": 1, "level": 3, "parent_id": "9.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.2.2", "title": "Battery Info Capability Descriptor ..................................................................................................................987", "full_path": "9.2.2 Battery Info Capability Descriptor ..................................................................................................................987", "page": 1, "level": 3, "parent_id": "9.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.2.3", "title": "PD Consumer Port Capability Descriptor ....................................................................................................988", "full_path": "9.2.3 PD Consumer Port Capability Descriptor ....................................................................................................988", "page": 1, "level": 3, "parent_id": "9.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.2.4", "title": "PD Provider Port Capability Descriptor .......................................................................................................989", "full_path": "9.2.4 PD Provider Port Capability Descriptor .......................................................................................................989", "page": 1, "level": 3, "parent_id": "9.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.3", "title": "PD Specific Requests and Events", "full_path": "9.3 PD Specific Requests and Events", "page": 990, "level": 2, "parent_id": "9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.3.1", "title": "PD Specific Requests .............................................................................................................................................990", "full_path": "9.3.1 PD Specific Requests .............................................................................................................................................990", "page": 1, "level": 3, "parent_id": "9.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.4", "title": "PDUSB Hub and PDUSB Peripheral Device Requests", "full_path": "9.4 PDUSB Hub and PDUSB Peripheral Device Requests", "page": 991, "level": 2, "parent_id": "9", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.4.1", "title": "GetBatteryStatus .....................................................................................................................................................991", "full_path": "9.4.1 GetBatteryStatus .....................................................................................................................................................991", "page": 1, "level": 3, "parent_id": "9.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "9.4.2", "title": "SetPDFeature ...........................................................................................................................................................992", "full_path": "9.4.2 SetPDFeature ...........................................................................................................................................................992", "page": 1, "level": 3, "parent_id": "9.4", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10", "title": "Power Rules . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 995 Table10.1 Considerations for Sources..............................................................................................................................996 Table10.2 SPR Normative Voltages and Minimum Currents..................................................................................997 Table10.3 SPR Source Capabilities When Port Present PDP is less than Port Maximum PDP.................998 Table10.4 SPR Source Port Present PDP less than Port Maximum PDP Examples.......................................999 Table10.5 Fixed Supply PDO - Source 5V......................................................................................................................1001 Table10.6 Fixed Supply PDO - Source 9V......................................................................................................................1002 Page 32 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Table10.7 Fixed Supply PDO - Source 15V...................................................................................................................1002 Table10.8 Fixed Supply PDO - Source 20V...................................................................................................................1002 Table10.9 SPR Adjustable Voltage Supply (AVS) Voltage Ranges......................................................................1004 Table10.10 SPR Programmable Power Supply PDOs and APDOs based on the Port Maximum PDP...1005 Table10.11 SPR Programmable Power Supply Voltage Ranges............................................................................1006 Table10.12 EPR Source Capabilities based on the Port Maximum PDP and using an EPR Capable Cable 1009 Table10.14 EPR Source Examples when Port Present PDP is less than Port Maximum PDP...................1010 Table10.13 EPR Source Capabilities when Port Present PDP is less than Port Maximum PDP and using an EPR-capable cable.......................................................................................................................................1010 Table10.15 EPR Adjustable Voltage Supply (AVS) Voltage Ranges.....................................................................1012 A CRC calculation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1015 B Message Sequence Examples (Deprecated) . . . . . . . . . . . . . . . . . . . . . . . 1016 C VDM Command Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1017 TableC.1 Discover Identity Command request from Initiator Example.......................................................1017 TableC.2 Discover Identity Command response from Active Cable Responder Example....................1018 TableC.3 Discover Identity Command response from Hub Responder Example.....................................1020 TableC.4 Discover SVIDs Command request from Initiator Example............................................................1021 TableC.5 Discover SVIDs Command response from Responder Example...................................................1022 TableC.6 Discover Modes Command request from Initiator Example..........................................................1023 TableC.7 Discover Modes Command response from Responder Example..................................................1024 TableC.8 Enter Mode Command request from Initiator Example...................................................................1025 TableC.9 Enter Mode Command response from Responder Example...........................................................1026 TableC.10 Enter Mode Command request with additional VDO Example.....................................................1027 TableC.11 Exit Mode Command request from Initiator Example......................................................................1028 TableC.12 Exit Mode Command response from Responder Example..............................................................1029 TableC.13 Attention Command request from Initiator Example........................................................................1030 TableC.14 Attention Command request from Initiator with additional VDO Example............................1031 D BMC Receiver Design Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1032 E FRS System Level Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1038 TableE.1 Sequence for setup of a Fast Role Swap (Hub connected to Power Adapter first)...............1041 TableE.2 Sequence for setup of a Fast Role Swap (Hub connected to laptop before Power Adapter) 1042 TableE.3 Sequence for slow VBUS discharge (it discharges after FR_Swap message is sent)..............1045 TableE.4 VBUS discharges quickly after adapter disconnected.........................................................................1046 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page", "full_path": "10 Power Rules . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 995 Table10.1 Considerations for Sources..............................................................................................................................996 Table10.2 SPR Normative Voltages and Minimum Currents..................................................................................997 Table10.3 SPR Source Capabilities When Port Present PDP is less than Port Maximum PDP.................998 Table10.4 SPR Source Port Present PDP less than Port Maximum PDP Examples.......................................999 Table10.5 Fixed Supply PDO - Source 5V......................................................................................................................1001 Table10.6 Fixed Supply PDO - Source 9V......................................................................................................................1002 Page 32 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Table10.7 Fixed Supply PDO - Source 15V...................................................................................................................1002 Table10.8 Fixed Supply PDO - Source 20V...................................................................................................................1002 Table10.9 SPR Adjustable Voltage Supply (AVS) Voltage Ranges......................................................................1004 Table10.10 SPR Programmable Power Supply PDOs and APDOs based on the Port Maximum PDP...1005 Table10.11 SPR Programmable Power Supply Voltage Ranges............................................................................1006 Table10.12 EPR Source Capabilities based on the Port Maximum PDP and using an EPR Capable Cable 1009 Table10.14 EPR Source Examples when Port Present PDP is less than Port Maximum PDP...................1010 Table10.13 EPR Source Capabilities when Port Present PDP is less than Port Maximum PDP and using an EPR-capable cable.......................................................................................................................................1010 Table10.15 EPR Adjustable Voltage Supply (AVS) Voltage Ranges.....................................................................1012 A CRC calculation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1015 B Message Sequence Examples (Deprecated) . . . . . . . . . . . . . . . . . . . . . . . 1016 C VDM Command Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1017 TableC.1 Discover Identity Command request from Initiator Example.......................................................1017 TableC.2 Discover Identity Command response from Active Cable Responder Example....................1018 TableC.3 Discover Identity Command response from Hub Responder Example.....................................1020 TableC.4 Discover SVIDs Command request from Initiator Example............................................................1021 TableC.5 Discover SVIDs Command response from Responder Example...................................................1022 TableC.6 Discover Modes Command request from Initiator Example..........................................................1023 TableC.7 Discover Modes Command response from Responder Example..................................................1024 TableC.8 Enter Mode Command request from Initiator Example...................................................................1025 TableC.9 Enter Mode Command response from Responder Example...........................................................1026 TableC.10 Enter Mode Command request with additional VDO Example.....................................................1027 TableC.11 Exit Mode Command request from Initiator Example......................................................................1028 TableC.12 Exit Mode Command response from Responder Example..............................................................1029 TableC.13 Attention Command request from Initiator Example........................................................................1030 TableC.14 Attention Command request from Initiator with additional VDO Example............................1031 D BMC Receiver Design Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1032 E FRS System Level Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1038 TableE.1 Sequence for setup of a Fast Role Swap (Hub connected to Power Adapter first)...............1041 TableE.2 Sequence for setup of a Fast Role Swap (Hub connected to laptop before Power Adapter) 1042 TableE.3 Sequence for slow VBUS discharge (it discharges after FR_Swap message is sent)..............1045 TableE.4 VBUS discharges quickly after adapter disconnected.........................................................................1046 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 Page", "page": 33, "level": 1, "parent_id": null, "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.1", "title": "Introduction", "full_path": "10.1 Introduction", "page": 995, "level": 2, "parent_id": "10", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.2", "title": "Source Power Rules", "full_path": "10.2 Source Power Rules", "page": 995, "level": 2, "parent_id": "10", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.2.1", "title": "Source Power Rule Considerations ................................................................................................................996", "full_path": "10.2.1 Source Power Rule Considerations ................................................................................................................996", "page": 1, "level": 3, "parent_id": "10.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.2.2", "title": "Normative Voltages and Currents ...................................................................................................................997", "full_path": "10.2.2 Normative Voltages and Currents ...................................................................................................................997", "page": 1, "level": 3, "parent_id": "10.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.2.3", "title": "Optional Voltages/Currents ............................................................................................................................1005", "full_path": "10.2.3 Optional Voltages/Currents ............................................................................................................................1005", "page": 1, "level": 3, "parent_id": "10.2", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.3", "title": "Sink Power Rules", "full_path": "10.3 Sink Power Rules", "page": 1013, "level": 2, "parent_id": "10", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.3.1", "title": "Sink Power Rule Considerations ..................................................................................................................1013", "full_path": "10.3.1 Sink Power Rule Considerations ..................................................................................................................1013", "page": 1, "level": 3, "parent_id": "10.3", "tags": []}
{"doc_title": "USB Power Delivery Specification", "section_id": "10.3.2", "title": "Normative Sink Rules ........................................................................................................................................1013 A CRC calculation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1015 A.1 C code example.......................................................................................................................... 1015 B Message Sequence Examples (Deprecated) . . . . . . . . . . . . . . . . . . . . . . . 1016 C VDM Command Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1017 C.1 Discover Identity Example.................................................................................................... 1017 C.1.1 Discover Identity Command request ..........................................................................................................1017 C.1.2 Discover Identity Command response - Active Cable. ........................................................................1018 C.1.3 Discover Identity Command response - Hub. .........................................................................................1020 C.2 Discover SVIDs Example........................................................................................................ 1021 C.2.1 Discover SVIDs Command request ..............................................................................................................1021 C.2.2 Discover SVIDs Command response ...........................................................................................................1022 C.3 Discover Modes Example....................................................................................................... 1023 C.3.1 Discover Modes Command request .............................................................................................................1023 C.3.2 Discover Modes Command response .........................................................................................................1024 C.4 Enter Mode Example............................................................................................................... 1025 C.4.1 Enter Mode Command request .....................................................................................................................1025 C.4.2 Enter Mode Command response ..................................................................................................................1026 C.4.3 Enter Mode Command request with additional VDO. .........................................................................1027 C.5 Exit Mode Example................................................................................................................... 1028 C.5.1 Exit Mode Command request .........................................................................................................................1028 C.5.2 Exit Mode Command response ......................................................................................................................1029 C.6 Attention Example.................................................................................................................... 1030 C.6.1 Attention Command request ..........................................................................................................................1030 C.6.2 Attention Command request with additional VDO. ..............................................................................1031 D BMC Receiver Design Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1032 D.1 Finite Difference Scheme....................................................................................................... 1032 D.1.1 Sample Circuitry ..................................................................................................................................................1032 D.1.2 Theory ......................................................................................................................................................................1032 D.1.3 Data Recovery .......................................................................................................................................................1034 D.1.4 Noise Zone and Detection Zone ....................................................................................................................1035 D.2 Subtraction Scheme................................................................................................................. 1036 D.2.1 Sample Circuitry ..................................................................................................................................................1036 D.2.2 Output of Each Circuit Block ..........................................................................................................................1036 D.2.3 Subtractor Output at Power Source and Power Sink ..........................................................................1036 D.2.4 Noise Zone and Detection Zone ....................................................................................................................1037 E FRS System Level Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1038 E.1 Overview....................................................................................................................................... 1038 E.2 FRS Initial Setup........................................................................................................................ 1041 E.3 FRS Process................................................................................................................................. 1044 Page 18 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 List of Figures", "full_path": "10.3.2 Normative Sink Rules ........................................................................................................................................1013 A CRC calculation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1015 A.1 C code example.......................................................................................................................... 1015 B Message Sequence Examples (Deprecated) . . . . . . . . . . . . . . . . . . . . . . . 1016 C VDM Command Examples. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1017 C.1 Discover Identity Example.................................................................................................... 1017 C.1.1 Discover Identity Command request ..........................................................................................................1017 C.1.2 Discover Identity Command response - Active Cable. ........................................................................1018 C.1.3 Discover Identity Command response - Hub. .........................................................................................1020 C.2 Discover SVIDs Example........................................................................................................ 1021 C.2.1 Discover SVIDs Command request ..............................................................................................................1021 C.2.2 Discover SVIDs Command response ...........................................................................................................1022 C.3 Discover Modes Example....................................................................................................... 1023 C.3.1 Discover Modes Command request .............................................................................................................1023 C.3.2 Discover Modes Command response .........................................................................................................1024 C.4 Enter Mode Example............................................................................................................... 1025 C.4.1 Enter Mode Command request .....................................................................................................................1025 C.4.2 Enter Mode Command response ..................................................................................................................1026 C.4.3 Enter Mode Command request with additional VDO. .........................................................................1027 C.5 Exit Mode Example................................................................................................................... 1028 C.5.1 Exit Mode Command request .........................................................................................................................1028 C.5.2 Exit Mode Command response ......................................................................................................................1029 C.6 Attention Example.................................................................................................................... 1030 C.6.1 Attention Command request ..........................................................................................................................1030 C.6.2 Attention Command request with additional VDO. ..............................................................................1031 D BMC Receiver Design Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1032 D.1 Finite Difference Scheme....................................................................................................... 1032 D.1.1 Sample Circuitry ..................................................................................................................................................1032 D.1.2 Theory ......................................................................................................................................................................1032 D.1.3 Data Recovery .......................................................................................................................................................1034 D.1.4 Noise Zone and Detection Zone ....................................................................................................................1035 D.2 Subtraction Scheme................................................................................................................. 1036 D.2.1 Sample Circuitry ..................................................................................................................................................1036 D.2.2 Output of Each Circuit Block ..........................................................................................................................1036 D.2.3 Subtractor Output at Power Source and Power Sink ..........................................................................1036 D.2.4 Noise Zone and Detection Zone ....................................................................................................................1037 E FRS System Level Example . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .1038 E.1 Overview....................................................................................................................................... 1038 E.2 FRS Initial Setup........................................................................................................................ 1041 E.3 FRS Process................................................................................................................................. 1044 Page 18 Universal Serial Bus Power Delivery Specification, Revision 3.2, Version 1.1, 2024-10 List of Figures", "page": 1, "level": 3, "parent_id": "10.3", "tags": []}
